{"version":3,"sources":["components/presets.js","components/common.js","components/networkTab.js","components/addonsTab.js","components/clusterTab.js","components/deployTab.js","components/appsTab.js","components/portalnav.js","App.js","serviceWorker.js","index.js"],"names":["iconClass","mergeStyles","fontSize","margin","sections","selectedValues","updateSelected","map","s","Separator","styles","root","marginTop","marginBottom","sectionTitle","key","sectionWarning","MessageBar","messageBarType","MessageBarType","severeWarning","Stack","horizontal","tokens","childrenGap","cards","c","i","DocumentCard","onClick","childrenMargin","DocumentCardDetails","padding","position","Checkbox","inputProps","checked","label","title","fontWeight","imageSrc","DocumentCardImage","backgroundColor","height","imageFit","ImageFit","centerContain","icon","DocumentCardPreview","borderBottom","previewImages","previewIconProps","iconName","className","style","Text","description","titleWarning","variant","paddingInlineStart","bulets","b","linksrc","target","href","author","DocumentCardActivity","activity","status","people","name","initials","hasError","array","field","findIndex","e","getError","idx","message","adv_stackstyle","border","background","columnProps","minWidth","NetworkTab","tabValues","updateFn","invalidArray","featureFlag","useState","callout1","setCallout1","net","addons","_calloutTarget1","React","createRef","Item","Label","required","ChoiceGroup","marginLeft","selectedKey","networkPlugin","options","text","onChange","ev","error","disabled","errorMessage","afw","v","vnetprivateend","bastion","ref","vnet_opt","iconProps","Callout","directionalHint","DirectionalHint","leftCenter","isBeakVisible","gapSpace","setInitialFocus","onDismiss","info","maxWidth","warning","Link","Image","CenterContain","width","src","CustomVNET","BYOVNET","PodServiceNetwork","align","TextField","prefix","val","value","podCidr","serviceCidr","dnsServiceIP","byoAKSSubnetId","placeholder","ingress","byoAGWSubnetId","vnetAddressPrefix","vnetAksSubnetAddressPrefix","vnetFirewallSubnetAddressPrefix","vnetAppGatewaySubnetAddressPrefix","registry","acrPrivatePool","acrAgentPoolSubnetAddressPrefix","bastionSubnetAddressPrefix","privateLinkSubnetAddressPrefix","monitor","Dropdown","retentionInDays","createAksMetricAlerts","azurepolicy","success","networkPolicy","display","ingressEveryNode","appgwKVIntegration","appGWsku","appGWenableFirewall","appGwFirewallMode","appGWautoscale","Slider","min","max","step","defaultValue","appGWcount","showValue","appGWmaxCount","snapToStep","appgw_privateIp","appgw_privateIpAddress","dns","dnsZoneId","certMan","certEmail","csisecret","kvId","optionRootClass","alignItems","VMs","itemType","DropdownMenuItemType","Header","eph","cluster","vertical","AksPaidSkuForSLA","SystemPoolType","autoscale","agentCount","maxCount","vmSize","dropdown","osDiskType","osDiskSizeGB","availabilityZones","upgradeChannel","enable_aad","use_alt_aad","onRenderField","props","render","aad_tenant_id","enableAzureRBAC","onRenderLabel","color","aadgroupids","apisecurity","privateDNSZone","DeployTab","p","defaults","invalidTabs","urlParams","deploy","allok","length","apiips_array","apiips","split","filter","x","trim","aksvnetparams","serviceparams","params","resourceName","clusterName","kubernetesVersion","JustUseSystemPool","agentVMSize","agentCountMax","custom_vnet","clusterAdminRole","adminprincipleid","registries_sku","acrPushRole","acrPushRolePrincipalId","azureFirewalls","certManagerFW","privateLinks","kvIPWhitelist","omsagent","clusterIPWhitelist","authorizedIPRanges","enablePrivateCluster","ingressApplicationGateway","privateIpApplicationGateway","azureKeyvaultSecretsProvider","createKV","kvCertSecretRole","kvOfficerRolePrincipalId","preview_params","gitops","finalParams","disablePreviews","aks","agw","deploycmd","location","rg","process","Object","keys","k","targetVal","Array","isArray","JSON","stringify","replaceAll","join","param_file","reduce","a","parameters","params2file","prometheus_namespace","prometheus_helm_release_name","nginx_namespace","postscript","marginRight","readOnly","Toggle","onText","offText","toString","Pivot","PivotItem","headerText","rows","fontFamily","lineHeight","multiline","AppsTab","entScale","setEntScale","alt","rel","nowrap","TooltipHost","content","Icon","PortalNav","config","console","log","componentName","tabLabels","entScaleOps","defaultOps","pivotkey","setPivotkey","useEffect","start","Date","pagename","appInsights","startTrackPage","stopTrackPage","mounttime","URLSearchParams","window","search","setUrlParams","setInvalidArray","has","values","get","find","default","selected","setSelected","Math","floor","random","tabApplySections","acc","curr","updateTabValues","dynamicApplySections","acct","currt","accv","currv","urlname","valres","isNaN","parseInt","setTabValues","currenttabValues","sectionKey","cardKey","card_values","hasOwnProperty","undefined","page","set","mergeState","tab","invalidFn","invalid","prev","concat","fetch","then","response","json","res","currentTabValues","ip","catch","err","_customRenderer","link","defaultRenderer","match","id","ThemeProvider","verticalFill","currentUrlParams","forEach","element","delete","onLinkClick","item","itemKey","focusZoneProps","onRenderItemLink","t","app","App","ConfigContext","Consumer","initializeIcons","Boolean","hostname","ApplicationInsights","instrumentationKey","loadAppInsights","createContext","ReactDOM","Provider","configData","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.35d1237d.chunk.js","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react';\nimport { MessageBar, DocumentCardActivity, DocumentCardImage, Text, DocumentCardPreview, mergeStyles, Separator, DocumentCard, DocumentCardDetails, Stack, Checkbox, ImageFit, MessageBarType } from '@fluentui/react';\n\nconst iconClass = mergeStyles({\n    fontSize: 80,\n    margin: '0 80px'\n});\n\n\nexport default function ({ sections, selectedValues, updateSelected }) {\n\n    return sections.map(s => [\n\n\n        <Separator key={`sep${s.key}`} styles={{ root: { marginTop: \"15px !important\", marginBottom: \"15px\" } }}><b>{s.sectionTitle}</b></Separator>,\n        <div key={`warn${s.key}`}>\n            {s.sectionWarning &&\n                <MessageBar key={`messg${s.key}`} styles={{ root: { marginBottom: \"15px\", fontSize: \"15px\" } }} messageBarType={MessageBarType.severeWarning}>{s.sectionWarning}</MessageBar>\n            }\n        </div>,\n        <Stack key={`stack${s.key}`} horizontal tokens={{ childrenGap: 15 }}>\n            {s.cards.map((c, i) =>\n                <DocumentCard  key={c.key}   onClick={() => updateSelected(s.key, c.key)} tokens={{ childrenMargin: 12 }}>\n                    \n                    <DocumentCardDetails styles={{ root: { padding: \"8px 16px\", position: \"relative\" } }}>\n                        <Checkbox inputProps={{ 'data-testid': `portalnav-presets-${s.key}-${c.key}-Checkbox`}} checked={selectedValues[s.key] === c.key} label={c.title} styles={{ label: { fontWeight: selectedValues[s.key] === c.key ? '500' : 'normal' } }} />\n                    </DocumentCardDetails>\n\n                    {c.imageSrc &&\n                        <DocumentCardImage styles={{ root: { backgroundColor: \"white\" } }} imageSrc={c.imageSrc} height={150} imageFit={ImageFit.centerContain} />\n                    }\n                    {c.icon &&\n                        <DocumentCardPreview styles={{ root: { backgroundColor: 'white', borderBottom: '0' } }} previewImages={[{\n                            previewIconProps: {\n                                iconName: c.icon, className: iconClass\n                            }, height: 100\n                        },]} />\n                    }\n\n                    <div style={{ padding: \"8px 16px\" }} >\n                        <Text >{c.description.title}\n                            {c.description.titleWarning &&\n                                <MessageBar messageBarType={c.description.titleWarning.MessageBarType}>\n                                    <Text >{c.description.titleWarning.description}</Text>\n                                </MessageBar>\n\n                            }\n                            <Text variant=\"smallPlus\" >\n                                <ul style={{ paddingInlineStart: \"20px\" }}>\n                                    {c.description.bulets.map((b, i) =>\n                                        <li key={i}>\n                                            {b.description}\n                                            {b.linksrc && <span> (<a target=\"_nsg\" href={b.linksrc}>docs</a>)</span>}\n                                        </li>\n                                    )}\n                                </ul>\n                            </Text>\n                        </Text>\n                    </div>\n\n                    {c.author &&\n                        <DocumentCardActivity activity={c.author.status} people={[{ name: c.author.name, initials: c.author.initials }]} />\n                    }\n                </DocumentCard>\n            )}\n        </Stack>\n    ])\n}","export function arrayAdd(array, key) {\n    return array.includes(key) ? array : array.concat(key)\n}\nexport function arrayDel(array, key) {\n    const idx = array.indexOf(key)\n    return idx >= 0 ? [...array.slice(0, idx), ...array.slice(idx + 1)] : array\n}\n\nexport function hasError(array, field) {\n    return array.findIndex(e => e.field === field) >= 0\n}\n\nexport function getError(array, field) {\n    const idx = array.findIndex(e => e.field === field)\n    return idx >= 0 ? array[idx].message : ''\n}\n\nexport const adv_stackstyle = { root: { border: \"1px solid\", background: \"#fcfcfc\", margin: \"10px 0\", padding: \"15px\" } }\n\n","\nimport React, { useState } from 'react';\nimport { Image, ImageFit, Link, Separator, TextField, DirectionalHint, Callout, Stack, Text, Label, ChoiceGroup, Checkbox, MessageBar, MessageBarType } from '@fluentui/react';\nimport { adv_stackstyle, hasError, getError } from './common'\n\nconst columnProps = {\n    tokens: { childrenGap: 20 },\n    styles: { root: { minWidth: 380 } }\n}\n\n\nexport default function NetworkTab ({ tabValues, updateFn, invalidArray, featureFlag }) {\n    \n    const [callout1, setCallout1] = useState(false)\n\n    const { net, addons } = tabValues\n    var _calloutTarget1 = React.createRef()\n\n    return (\n        <Stack tokens={{ childrenGap: 15 }} styles={adv_stackstyle}>\n\n            <Stack.Item>\n                <Label required={true}>Network Plugin</Label>\n                <MessageBar>Typically, only use \"kubenet\" networking if you need to limit your non-routable IP usage on your network (use network calculator)\n                </MessageBar>\n                <ChoiceGroup\n                    styles={{ root: { marginLeft: '50px' } }}\n                    selectedKey={net.networkPlugin}\n                    options={[\n                        { key: 'kubenet', text: 'Use \"kubenet\" basic networking, so your PODs DO NOT receive VNET IPs' },\n                        { key: 'azure', text: 'Use \"CNI\" for fastest container networking, but using more IPs' }\n\n                    ]}\n                    onChange={(ev, { key }) => updateFn(\"networkPlugin\", key)}\n                />\n            </Stack.Item>\n\n            <Separator className=\"notopmargin\" />\n\n            <Stack.Item>\n                <Label>Deploy Azure firewall for your cluster egress (Custom VNet Only)</Label>\n                {hasError(invalidArray, 'afw') &&\n                    <MessageBar messageBarType={MessageBarType.error}>{getError(invalidArray, 'afw')}</MessageBar>\n                }\n                <Checkbox styles={{ root: { marginLeft: '50px', marginTop: '10 !important' } }} disabled={false} errorMessage={getError(invalidArray, 'afw')} checked={net.afw} onChange={(ev, v) => updateFn(\"afw\", v)} label=\"Implement Azure Firewall & UDR next hop\" />\n\n            </Stack.Item>\n\n            <Separator className=\"notopmargin\" />\n\n            <Stack.Item>\n                <Label>Uses a private IP address from your VNet to access your dependent Azure service, such as Azure KeyVault, Azure Container Registry etc</Label>\n                <Checkbox styles={{ root: { marginLeft: '50px', marginTop: '0 !important' } }} disabled={false} checked={net.vnetprivateend} onChange={(ev, v) => updateFn(\"vnetprivateend\", v)} label=\"Enable Private Link\" />\n            </Stack.Item>\n\n            <Stack.Item>\n                <Label>Use Azure Bastion to facilitate RDP/SSH public internet inbound access into your virtual network</Label>\n                <Checkbox inputProps={{ \"data-testid\": \"network-bastion-Checkbox\"}} styles={{ root: { marginLeft: '50px', marginTop: '0 !important' } }} disabled={false} checked={net.bastion} onChange={(ev, v) => updateFn(\"bastion\", v)} label=\"Enable Azure Bastion\" />\n            </Stack.Item>\n\n            <Separator className=\"notopmargin\" />\n\n            <Stack.Item>\n                <Stack horizontal>\n                    <Stack.Item>\n                        <Label>Default or Custom VNET</Label>\n                        <div ref={_calloutTarget1} style={{ marginTop: 0 }}>\n                            <ChoiceGroup\n                                styles={{ root: { marginLeft: '50px' } }}\n                                selectedKey={net.vnet_opt}\n                                onClick={() => setCallout1(true)}\n                                onChange={(ev, { key }) => updateFn(\"vnet_opt\", key)}\n                                options={[\n                                    {\n                                        key: 'default',\n                                        iconProps: { iconName: 'CubeShape' },\n                                        text: 'Default Networking'\n                                    },\n                                    {\n                                        key: 'custom',\n                                        iconProps: { iconName: 'CityNext' }, // SplitObject\n                                        text: 'Custom Networking'\n                                    },\n                                    {\n                                        key: 'byo',\n                                        disabled: false,\n                                        iconProps: { iconName: 'WebAppBuilderFragment' }, // SplitObject\n                                        text: 'BYO VNET (TBC)'\n                                    }\n                                ]}\n                            />\n                            {hasError(invalidArray, 'vnet_opt') &&\n                                <MessageBar messageBarType={MessageBarType.error}>{getError(invalidArray, 'vnet_opt')}</MessageBar>\n                            }\n                        </div>\n                    </Stack.Item>\n                    <Stack.Item>\n                        {callout1 && net.vnet_opt === 'default' && (\n                            <Callout\n                                className=\"ms-CalloutExample-callout\"\n                                target={_calloutTarget1}\n                                directionalHint={DirectionalHint.leftCenter}\n                                isBeakVisible={true}\n                                gapSpace={10}\n                                setInitialFocus={true}\n                                onDismiss={() => setCallout1(false)}>\n\n                                <MessageBar messageBarType={MessageBarType.info}>Default - Fully Managed Networking</MessageBar>\n                                <div style={{ padding: \"10px\", maxWidth: \"450px\" }}>\n                                    <Text >\n                                        Select this option if you <Text style={{ fontWeight: \"bold\" }} > don't</Text> require any custom IP settings, so you are not peering with other VNETs or On-Premises networks\n                                        This is the simplest AKS deployment to operate, it provides a <Text style={{ fontWeight: \"bold\" }} > managed</Text> network setup, including:\n                                    </Text>\n                                    <ul>\n                                        <li>New Dedicated VNET with private IP range for your agents nodes</li>\n                                        <li>Container Networking (default: CNI)</li>\n                                        <li>Standard LoadBalancer for kubernetes services with outbound rule for internet access</li>\n                                    </ul>\n                                </div>\n                            </Callout>\n                        )}\n\n\n                        {callout1 && net.vnet_opt === 'custom' && (\n                            <Callout\n                                className=\"ms-CalloutExample-callout\"\n                                target={_calloutTarget1}\n                                directionalHint={DirectionalHint.leftCenter}\n                                isBeakVisible={true}\n                                gapSpace={10}\n                                setInitialFocus={true}\n                                onDismiss={() => setCallout1(false)}>\n\n                                <MessageBar messageBarType={MessageBarType.warning}>Custom Networking - Advanced Setup</MessageBar>\n                                <div style={{ padding: \"10px\", maxWidth: \"500px\" }}>\n                                    <Text >\n                                        Select this option if you will you would like the helper to create a new VNET with specific ranges, use this option if you need to:\n                                        <ul>\n                                            <li>Connect your AKS network with another networks</li>\n                                            <li>You will be VNET peering or using an ExpressRoute or VPN Gateway</li>\n                                        </ul>\n                                    </Text>\n                                </div>\n                            </Callout>\n                        )}\n\n                        {callout1 && net.vnet_opt === 'byo' && (\n                            <Callout\n                                className=\"ms-CalloutExample-callout\"\n                                target={_calloutTarget1}\n                                directionalHint={DirectionalHint.leftCenter}\n                                isBeakVisible={true}\n                                gapSpace={10}\n                                setInitialFocus={true}\n                                onDismiss={() => setCallout1(false)}>\n\n                                <MessageBar messageBarType={MessageBarType.warning}>Bring your own Networking - Advanced Setup</MessageBar>\n                                <div style={{ padding: \"10px\", maxWidth: \"500px\" }}>\n                                    <Text >\n                                        Select this option if you will be deploying AKS into an existing network configuration, for example.\n                                    </Text>\n\n                                    <ul>\n                                        <li>If you are implementing the Secure Baseline Architecture <Link target=\"_\" href=\"https://docs.microsoft.com/azure/architecture/reference-architectures/containers/aks/secure-baseline-aks\">here</Link>\n                                            <Image imageFit={ImageFit.CenterContain} width=\"100%\" src=\"./secure-baseline-architecture.svg\" /></li>\n                                        <li>If you will deploy AKS into a pre-existing VNET, managed by a networking team</li>\n                                    </ul>\n                                </div>\n                            </Callout>\n                        )}\n                    </Stack.Item>\n                </Stack>\n            </Stack.Item>\n\n\n\n            {net.vnet_opt === 'custom' ?\n                <CustomVNET addons={addons} net={net} updateFn={updateFn} />\n                : net.vnet_opt === 'byo' &&\n                <BYOVNET addons={addons} net={net} updateFn={updateFn} invalidArray={invalidArray} />\n            }\n        </Stack>\n    )\n}\n\nfunction PodServiceNetwork({ net, updateFn }) {\n    return (\n        <Stack {...columnProps}>\n            <Label>Kubernetes Networking Configuration</Label>\n            <Stack.Item styles={{root: {width: '380px'}}} align=\"start\">\n                <TextField  prefix=\"Cidr\" label=\"POD Network\" disabled={net.networkPlugin !== 'kubenet'} onChange={(ev, val) => updateFn(\"podCidr\", val)} value={net.networkPlugin === 'kubenet' ? net.podCidr : \"Using CNI, POD IPs from subnet\"} />\n            </Stack.Item>\n            <Stack.Item styles={{root: {width: '380px'}}} align=\"start\">\n                <TextField prefix=\"Cidr\" label=\"Service Network\" onChange={(ev, val) => updateFn(\"serviceCidr\", val)} value={net.serviceCidr} />\n                <MessageBar messageBarType={MessageBarType.warning}>Address space that isn't in use elsewhere in your network environment <a target=\"_target\" href=\"https://docs.microsoft.com/en-us/azure/aks/configure-kubenet#create-an-aks-cluster-in-the-virtual-network\">docs</a></MessageBar>\n            </Stack.Item>\n            <Stack.Item styles={{root: {width: '380px'}}} align=\"start\">\n                <TextField prefix=\"IP\" label=\"Service Network\" onChange={(ev, val) => updateFn(\"dnsServiceIP\", val)} value={net.dnsServiceIP} />\n                <MessageBar messageBarType={MessageBarType.warning}>Ensure its an address within the Service CIDR above <a target=\"_target\" href=\"https://docs.microsoft.com/en-us/azure/aks/configure-kubenet#create-an-aks-cluster-in-the-virtual-network\">docs</a></MessageBar>\n            </Stack.Item>\n\n        </Stack>\n    )\n}\n\nfunction BYOVNET({ net, addons, updateFn, invalidArray }) {\n    return (\n\n        <Stack styles={adv_stackstyle}>\n\n            <Label>Bring your Own VNET and Subnets</Label>\n            <MessageBar>Get your user subnet by running <Label>az network vnet subnet show --vnet-name `{'<net name>'}` -g `{'<vnet rg>'}` -n `{'<subnet name>'}` --query \"id\"</Label></MessageBar>\n            <TextField value={net.byoAKSSubnetId} onChange={(ev, v) => updateFn(\"byoAKSSubnetId\", v)} errorMessage={getError(invalidArray, 'byoAKSSubnetId')} required placeholder=\"Resource Id\" label={<Text style={{ fontWeight: 600 }}>Enter your existing AKS Nodes subnet ResourceId</Text>} />\n\n            <Separator className=\"notopmargin\" />\n\n\n            <TextField disabled={addons.ingress !== 'appgw'} value={net.byoAGWSubnetId} onChange={(ev, v) => updateFn(\"byoAGWSubnetId\", v)} errorMessage={getError(invalidArray, 'byoAGWSubnetId')} required placeholder=\"Resource Id\" label={<Text style={{ fontWeight: 600 }}>Enter your existing Application Gateway subnet ResourceId</Text>} />\n            <MessageBar messageBarType={MessageBarType.warning}>Ensure your Application Gateway subnet meets these requirements <Link href=\"https://docs.microsoft.com/en-us/azure/application-gateway/configuration-infrastructure#size-of-the-subnet\">here</Link></MessageBar>\n\n            <Separator/>\n            <PodServiceNetwork net={net} updateFn={updateFn} />\n\n        </Stack>\n    )\n}\n\n\nfunction CustomVNET({ net, addons, updateFn }) {\n    return (\n        <Stack styles={adv_stackstyle}>\n            <Label>Custom Network VNET & Kubernetes Network Configuration</Label>\n            <Stack horizontal tokens={{ childrenGap: 50 }} styles={{ root: { width: 650 } }}>\n                <Stack {...columnProps}>\n\n                    <Stack.Item align=\"start\">\n                        <TextField prefix=\"Cidr\" label=\"VNET Address space\" onChange={(ev, val) => updateFn(\"vnetAddressPrefix\", val)} value={net.vnetAddressPrefix} />\n                    </Stack.Item>\n                    <Stack.Item style={{ marginLeft: \"20px\"}}>\n                        <TextField prefix=\"Cidr\" label=\"AKS Nodes subnet\" onChange={(ev, val) => updateFn(\"vnetAksSubnetAddressPrefix\", val)} value={net.vnetAksSubnetAddressPrefix} />\n                    </Stack.Item>\n                    {/*\n                <Stack.Item align=\"center\">\n                  <TextField prefix=\"Cidr\" label=\"LoadBalancer Services subnet\" onChange={(ev, val) => updateFn(\"ilbsub\", val)} value={net.ilbsub} />\n                </Stack.Item>\n                */}\n                    <Stack.Item style={{ marginLeft: \"20px\"}}>\n                        <TextField prefix=\"Cidr\" disabled={!net.afw} label=\"Azure Firewall subnet\" onChange={(ev, val) => updateFn(\"vnetFirewallSubnetAddressPrefix\", val)} value={net.afw ? net.vnetFirewallSubnetAddressPrefix : \"No Firewall requested\"} />\n                    </Stack.Item>\n\n                    <Stack.Item style={{ marginLeft: \"20px\"}}>\n                        <TextField prefix=\"Cidr\" disabled={addons.ingress !== 'appgw'} label=\"Application Gateway subnet\" onChange={(ev, val) => updateFn(\"vnetAppGatewaySubnetAddressPrefix\", val)} value={addons.ingress === 'appgw' ? net.vnetAppGatewaySubnetAddressPrefix : \"No Application Gateway requested\"} />\n                        <MessageBar messageBarType={MessageBarType.warning}>Ensure your Application Gateway subnet meets <Link href=\"https://docs.microsoft.com/en-us/azure/application-gateway/configuration-infrastructure#size-of-the-subnet\">these</Link> requirements</MessageBar>\n                    </Stack.Item>\n\n                    <Stack.Item style={{ marginLeft: \"20px\"}}>\n                        <TextField prefix=\"Cidr\" disabled={!net.vnetprivateend || addons.registry === \"none\" || !addons.acrPrivatePool  } label=\"ACR Private Agent Pool subnet\" onChange={(ev, val) => updateFn(\"acrAgentPoolSubnetAddressPrefix\", val)} value={net.vnetprivateend && addons.registry !== \"none\" && addons.acrPrivatePool  ? net.acrAgentPoolSubnetAddressPrefix : \"No Agent Pool requested\"} />\n                    </Stack.Item>\n\n                    <Stack.Item style={{ marginLeft: \"20px\"}}>\n                        <TextField inputProps={{ \"data-testid\": \"network-bastion-subnet\"}} prefix=\"Cidr\" disabled={!net.bastion} label=\"Azure Bastion subnet\" onChange={(ev, val) => updateFn(\"bastionSubnetAddressPrefix\", val)} value={net.bastion ? net.bastionSubnetAddressPrefix : \"No bastion subnet requested\"} />\n                    </Stack.Item>\n\n                    <Stack.Item style={{ marginLeft: \"20px\"}}>\n                        <TextField prefix=\"Cidr\" disabled={!net.vnetprivateend} label=\"Private Endpoint subnet\" onChange={(ev, val) => updateFn(\"privateLinkSubnetAddressPrefix\", val)} value={net.vnetprivateend ? net.privateLinkSubnetAddressPrefix : \"No Private Endpoints requested\"} />\n                    </Stack.Item>\n\n                </Stack>\n\n                <PodServiceNetwork net={net} updateFn={updateFn} />\n            </Stack>\n        </Stack>\n    )\n}","/* eslint-disable import/no-anonymous-default-export */\nimport React from 'react';\nimport { TextField, Link, Separator, Dropdown, Slider, Stack, Text, Label, ChoiceGroup, Checkbox, MessageBar, MessageBarType } from '@fluentui/react';\nimport { adv_stackstyle, hasError, getError } from './common'\n\n\nexport default function ({ tabValues, updateFn, invalidArray }) {\n    const { addons, net } = tabValues\n    return (\n        <Stack tokens={{ childrenGap: 15 }} styles={adv_stackstyle}>\n\n            <Stack.Item align=\"start\">\n                <Label >Cluster Monitoring requirements</Label>\n                <MessageBar>Observing your clusters health is critical to smooth operations, select the managed Azure Monitor for Containers option, or the open source CNCF Prometheus/Grafana solution</MessageBar>\n                <ChoiceGroup\n                    styles={{ root: { marginLeft: '50px' } }}\n                    selectedKey={addons.monitor}\n                    options={[\n                        { key: 'none', text: 'None' },\n                        { key: 'aci', text: 'Azure Monitor for Containers (logs and metrics)' },\n                        { key: 'oss', text: 'Prometheus / Grafana Helm Chart (metrics only)' }\n\n                    ]}\n                    onChange={(ev, { key }) => updateFn(\"monitor\", key)}\n                />\n            </Stack.Item>\n\n            { addons.monitor === \"aci\" &&\n                <Stack.Item align=\"center\" styles={{ root: { maxWidth: '700px'}}}>\n                    <Dropdown\n                        label=\"Log and Metrics Data Retention (Days)\"\n                        onChange={(ev, { key }) => updateFn(\"retentionInDays\", key)} selectedKey={addons.retentionInDays}\n                        options={[\n                            { key: 30, text: '30 Days' },\n                            { key: 60, text: '60 Days' },\n                            { key: 90, text: '90 Days' },\n                            { key: 120, text: '120 Days' },\n                            { key: 180, text: '180 Days' },\n                            { key: 270, text: '270 Days' },\n                            { key: 365, text: '365 Days' }\n                        ]}\n                    />\n\n                    <Checkbox styles={{ root: { marginTop: '10px'}}} checked={addons.createAksMetricAlerts} onChange={(ev, v) => updateFn(\"createAksMetricAlerts\", v)} label={<Text>Create recommended metric alerts, enable you to monitor your system resource when it's running on peak capacity or hitting failure rates (<Link target=\"_target\" href=\"https://azure.microsoft.com/en-us/updates/ci-recommended-alerts/\">docs</Link>) </Text>} />\n\n                </Stack.Item>\n            }\n\n            <Separator className=\"notopmargin\" />\n\n            <Stack.Item align=\"start\">\n\n                <Label >Azure Policy, to manage and report on the compliance state of your Kubernetes clusters</Label>\n                <MessageBar>Azure Policy extends Gatekeeper v3, an admission controller webhook for Open Policy Agent (OPA), to apply at-scale enforcements and safeguards on your clusters in a centralized, consistent manner.\n                </MessageBar>\n                <ChoiceGroup\n                    styles={{ root: { marginLeft: '50px' } }}\n                    selectedKey={addons.azurepolicy}\n                    options={[\n                        { key: 'none', text: 'No restrictions, users can deploy any kubernetes workloads' },\n                        { key: 'audit', text: 'AUDIT compliance with the set of cluster pod security baseline standards for Linux-based workloads' },\n                        { key: 'deny', text: 'BLOCK and non-compliant Linux-based workloads with the set of cluster pod security baseline standards' }\n                    ]}\n                    onChange={(ev, { key }) => updateFn(\"azurepolicy\", key)}\n                />\n                {addons.azurepolicy !== 'none' &&\n                    <MessageBar messageBarType={MessageBarType.success} styles={{ root: { marginTop: '20px', marginLeft: '100px', width: '700px' } }}>\n                        The template will automatically assign and <b>{addons.azurepolicy}</b> the following <Link target=\"_target\" href=\"https://github.com/Azure/azure-policy/blob/master/built-in-policies/policySetDefinitions/Kubernetes/Kubernetes_PSPBaselineStandard.json\">Policies</Link>:\n                        <ul>\n                            <li>Do not allow privileged containers in Kubernetes cluster</li>\n                            <li>Kubernetes cluster pods should only use approved host network and port range</li>\n                            <li>Kubernetes cluster containers should not share host process ID or host IPC namespace</li>\n                            <li>Kubernetes cluster containers should only use allowed capabilities</li>\n                            <li>Kubernetes cluster pod hostPath volumes should only use allowed host paths</li>\n                        </ul>\n                    </MessageBar>\n                }\n            </Stack.Item>\n            <Separator className=\"notopmargin\" />\n            <Stack.Item align=\"start\">\n                <Label >Cluster East-West traffic restrictions (Network Policies)</Label>\n                <MessageBar>Control which components can communicate with each other. The principle of least privilege should be applied to how traffic can flow between pods in an Azure Kubernetes Service (AKS) cluster</MessageBar>\n                <ChoiceGroup\n                    styles={{ root: { marginLeft: '50px' } }}\n                    selectedKey={addons.networkPolicy}\n                    options={[\n                        { \"data-testid\":'addons-netpolicy-none', key: 'none', text: 'No restrictions, all PODs can access each other' },\n                        { \"data-testid\":'addons-netpolicy-calico', key: 'calico', text: 'Use Network Policy addon with Calico to implemented intra-cluster traffic restrictions (driven from \"NetworkPolicy\" objects)' },\n                        { \"data-testid\":'addons-netpolicy-azure', key: 'azure', text: 'Use Network Policy addon with Azure provider to implemented intra-cluster traffic restrictions (driven from \"NetworkPolicy\" objects)' }\n\n                    ]}\n                    onChange={(ev, { key }) => updateFn(\"networkPolicy\", key)}\n                />\n            </Stack.Item>\n            <Separator className=\"notopmargin\" />\n            <Stack.Item align=\"start\">\n                <Label required={true}>\n                    Securely Expose your applications via Layer 7 HTTP(S) proxies (Ingress Controller)\n                </Label>\n                <ChoiceGroup\n                    styles={{ root: { marginLeft: '50px' } }}\n                    selectedKey={addons.ingress}\n                    options={[\n                        { key: 'none', text: 'No, I do not need a Layer7 proxy, or I will configure my own solution' },\n                        { key: 'appgw', text: 'Yes, I want a Azure Managed Application Gateway with WAF protection' },\n                        { key: 'contour', text: 'Yes, deploy contour in the cluster to expose my apps to the internet (https://projectcontour.io/)' },\n                        { key: 'nginx', text: 'Yes, deploy nginx in the cluster to expose my apps to the internet (nginx ingress controller)' }\n\n                    ]}\n                    onChange={(ev, { key }) => updateFn(\"ingress\", key)}\n                />\n                {hasError(invalidArray, 'ingress') &&\n                    <MessageBar styles={{ root: { marginTop: '20px', marginLeft: '100px', width: '700px' } }} messageBarType={MessageBarType.error}>{getError(invalidArray, 'ingress')}</MessageBar>\n                }\n            </Stack.Item>\n\n            <Stack.Item align=\"center\" styles={{ root: { maxWidth: '700px', display: (addons.ingress === \"none\" ? \"none\" : \"block\") } }} >\n                <Stack tokens={{ childrenGap: 15 }}>\n                    {addons.ingress === \"nginx\" && false &&\n                        <MessageBar messageBarType={MessageBarType.warning}>You requested a high security cluster & nginx public ingress. Please ensure you follow this information after deployment <Link target=\"_ar1\" href=\"https://docs.microsoft.com/en-us/azure/firewall/integrate-lb#public-load-balancer\">Asymmetric routing</Link></MessageBar>\n                    }\n                    {addons.ingress !== \"none\" && false &&\n                        <MessageBar messageBarType={MessageBarType.warning}>You requested a high security cluster. The DNS and Certificate options are disabled as they require additional egress application firewall rules for image download and webhook requirements. You can apply these rules and install the helm chart after provisioning</MessageBar>\n                    }\n\n                    {addons.ingress === \"nginx\" &&\n                        <Checkbox checked={addons.ingressEveryNode} onChange={(ev, v) => updateFn(\"ingressEveryNode\", v)} label={<Text>Run nginx on every node (deploy as Daemonset)</Text>} />\n                    }\n\n                    {addons.ingress === \"appgw\" && (\n\n                        net.vnet_opt === 'default' ?\n                            <MessageBar messageBarType={MessageBarType.warning}>Using default networking, so addon will provision default Application Gateway instance, for more options, select custom networking in the network tab</MessageBar>\n                            :\n                            <>\n                                <MessageBar messageBarType={MessageBarType.warning}>Custom or BYO networking is requested, so template will provision a new Application Gateway</MessageBar>\n\n                                <Checkbox inputProps={{ 'data-testid': \"addons-ingress-appgwKVIntegration-Checkbox\"}} checked={addons.appgwKVIntegration} onChange={(ev, v) => updateFn(\"appgwKVIntegration\", v)} label={<Text>Enable KeyVault Integration for TLS Certificates (<Link target=\"_ar1\" href=\"https://docs.microsoft.com/en-us/azure/application-gateway/key-vault-certs\">docs</Link>) </Text>} />\n                                {hasError(invalidArray, 'appgwKVIntegration') &&\n                                    <MessageBar styles={{ root: { marginTop: '0px !important' } }} messageBarType={MessageBarType.error}>{getError(invalidArray, 'appgwKVIntegration')}</MessageBar>\n                                }\n\n                                <Stack.Item>\n                                    <Label style={{ marginBottom: \"0px\" }}>Application Gateway Type (<Link target='_' href='https://docs.microsoft.com/en-us/azure/web-application-firewall/ag/ag-overview'>docs</Link>)</Label>\n                                    <ChoiceGroup                                       \n                                        selectedKey={addons.appGWsku}\n                                        options={[\n                                            { key: 'Standard_v2', text: 'Standard_v2: Standard Application Gateway' },\n                                            { key: 'WAF_v2', text: 'WAF_v2: Web Application Firewall (WAF) on Application Gateway' }\n                                        ]}\n                                        onChange={(ev, { key }) => updateFn(\"appGWsku\", key)}\n                                    />\n                                </Stack.Item>\n\n                                { addons.appGWsku === 'WAF_v2' && \n                                    <Stack.Item style={{ marginLeft: \"20px\"}}>\n                                        <Checkbox checked={addons.appGWenableFirewall} onChange={(ev, v) => updateFn(\"appGWenableFirewall\", v)} label={<Text>Enable Firewall: Provides centralized protection of your web applications from common exploits and vulnerabilities</Text>} />\n                                    \n                                        { addons.appGWenableFirewall && \n                                            <Stack.Item style={{ marginLeft: \"25px\"}}>\n                                                <Label style={{ marginBottom: \"0px\", marginTop: \"5px\" }}>WAF mode</Label>\n                                                <ChoiceGroup\n                                                    style={{marginBottom: \"0px\", marginTop: \"0px\" }}\n                                                    selectedKey={addons.appGwFirewallMode}\n                                                    options={[\n                                                        { key: 'Prevention', text: 'Prevention:   Blocks intrusions and attacks that the rules detect' },\n                                                        { key: 'Detection', text: 'Detection:   Monitors and logs all threat alerts.' }\n                                                    ]}\n                                                    onChange={(ev, { key }) => updateFn(\"appGwFirewallMode\", key)}\n                                                />\n                                            </Stack.Item>\n                                        }\n                                    </Stack.Item>\n                                }\n\n                                <Label style={{ marginBottom: \"0px\" }}>Capacity</Label>\n                                <Stack horizontal tokens={{ childrenGap: 150 }} styles={{ root: { marginTop: '0px !important' } }}>\n                                    <Stack.Item>\n                                        <ChoiceGroup selectedKey={addons.appGWautoscale} onChange={(ev, { key }) => updateFn(\"appGWautoscale\", key)}\n                                            options={[\n                                                {\n                                                    key: false,\n                                                    text: 'Manual'\n                                                }, {\n                                                    key: true,\n                                                    text: 'Autoscale'\n                                                }\n                                            ]} />\n                                    </Stack.Item>\n                                    <Stack.Item>\n                                        <Stack tokens={{ childrenGap: 0 }} styles={{ root: { width: 450 } }}>\n                                            <Slider label={`${addons.appGWautoscale ? \"Minimum instance count\" : \"Instance count\"}`} min={addons.appGWautoscale ? 0 : 1} max={125} step={1} defaultValue={addons.appGWcount} showValue={true}\n                                                onChange={(v) => updateFn(\"appGWcount\", v)} />\n                                            {addons.appGWautoscale && (\n                                                <Slider label=\"Maximum instance count\" min={2} max={125} step={1} defaultValue={addons.appGWmaxCount} showValue={true}\n                                                    onChange={(v) => updateFn(\"appGWmaxCount\", v)}\n                                                    snapToStep />\n                                            )}\n                                        </Stack>\n                                    </Stack.Item>\n                                </Stack>\n\n                                <Checkbox checked={addons.appgw_privateIp} onChange={(ev, v) => updateFn(\"appgw_privateIp\", v)} label={<Text>Use a Private Frontend IP for Ingress (<Link target=\"_ar1\" href=\"https://docs.microsoft.com/en-us/azure/application-gateway/ingress-controller-private-ip\">docs</Link>)</Text>} />\n                                {addons.appgw_privateIp &&\n                                    <TextField value={addons.appgw_privateIpAddress} onChange={(ev, v) => updateFn(\"appgw_privateIpAddress\", v)} errorMessage={getError(invalidArray, 'appgw_privateIpAddress')} required placeholder=\"Resource Id\" label={<Text style={{ fontWeight: 600 }}>Enter Private IP address from the AppGW CIDR subnet range (<b>{net.vnet_opt === 'custom' ? net.vnetAppGatewaySubnetAddressPrefix : 'examine BYO subnet range'}</b>)</Text>} />\n                                }\n                            </>)\n                    }\n\n                    {(addons.ingress === \"contour\" || addons.ingress === \"nginx\" || addons.ingress === \"appgw\") &&\n                        <>\n                            <Checkbox inputProps={{ \"data-testid\": \"addons-dns\"}} checked={addons.dns} onChange={(ev, v) => updateFn(\"dns\", v)} label={\n                                <Text>Create FQDN URLs for your applications using\n                                    <Link target=\"_t1\" href=\"https://github.com/kubernetes-sigs/external-dns\"> <b>external-dns</b> </Link>\n                                    (requires Azure <Link href=\"https://docs.microsoft.com/en-us/azure/dns/dns-getstarted-portal#create-a-dns-zone\" target=\"_t1\"> <b>Public</b> </Link> or <Link href=\"https://docs.microsoft.com/en-us/azure/dns/private-dns-getstarted-portal\" target=\"_t1\"> <b>Private</b> </Link> DNS Zone)\n                                </Text>} />\n                            {addons.dns &&\n                                <>\n                                    <MessageBar messageBarType={MessageBarType.warning}>If using a Public DNS Zone, you need to own a custom domain, you can easily purchase a custom domain through Azure <Link target=\"_t1\" href=\"https://docs.microsoft.com/en-us/azure/app-service/manage-custom-dns-buy-domain\"> <b>details here</b></Link></MessageBar>\n                                    <TextField inputProps={{ \"data-testid\": \"addons-dnsZoneId\"}} value={addons.dnsZoneId} onChange={(ev, v) => updateFn(\"dnsZoneId\", v)} errorMessage={getError(invalidArray, 'dnsZoneId')} required placeholder=\"Resource Id\" label={<Text style={{ fontWeight: 600 }}>Enter your Public or Private Azure DNS Zone ResourceId <Link target=\"_t2\" href=\"https://ms.portal.azure.com/#blade/HubsExtension/BrowseResource/resourceType/Microsoft.Network%2FdnsZones\">find it here</Link></Text>} />\n\n\n                                    <Checkbox inputProps={{ \"data-testid\": \"addons-certMan\"}} disabled={hasError(invalidArray, 'dnsZoneId')} checked={addons.certMan} onChange={(ev, v) => updateFn(\"certMan\", v)} label=\"Automatically Issue Certificates for HTTPS using cert-manager (with Lets Encrypt - requires email\" />\n                                    {addons.certMan &&\n                                        <TextField inputProps={{ \"data-testid\": \"addons-certEmail\"}}  value={addons.certEmail} onChange={(ev, v) => updateFn(\"certEmail\", v)} errorMessage={getError(invalidArray, 'certEmail') ? \"Enter valid email\" : ''} label=\"Enter mail address for certificate notification:\" required />\n                                    }\n                                </>\n                            }\n                        </>\n                    }\n                </Stack>\n            </Stack.Item>\n\n            <Separator className=\"notopmargin\" />\n\n            <Stack.Item align=\"start\">\n                <Label required={true}>\n                    Do you require a secure private container registry to store my application images\n                </Label>\n                <ChoiceGroup\n                    styles={{ root: { marginLeft: '50px' } }}\n                    selectedKey={addons.registry}\n                    options={[\n                        { key: 'none', text: 'No, my application images will be on DockerHub or another registry' },\n                        { key: 'Basic', text: 'Yes, setup Azure Container Registry \"Basic\" tier & authorise aks to pull images' },\n                        { key: 'Standard', text: 'Yes, setup Azure Container Registry \"Standard\" tier (minimum recommended for production)' },\n                        { key: 'Premium', text: 'Yes, setup Azure Container Registry \"Premium\" tier (required for Private Link)' }\n                    ]}\n                    onChange={(ev, { key }) => updateFn(\"registry\", key)}\n                />\n                {hasError(invalidArray, 'registry') &&\n                    <MessageBar styles={{ root: { marginLeft: '50px', width: '700px' } }} messageBarType={MessageBarType.error}>{getError(invalidArray, 'registry')}</MessageBar>\n                }\n\n            </Stack.Item>\n\n            <Stack.Item align=\"center\" styles={{ root: { width: '700px' }}}>\n                <Checkbox disabled={addons.registry === \"none\" || !net.vnetprivateend} checked={addons.acrPrivatePool} onChange={(ev, v) => updateFn(\"acrPrivatePool\", v)} label={<Text>Create ACR Private Agent Pool (private link only) (preview limited regions <a target=\"_new\" href=\"https://docs.microsoft.com/azure/container-registry/tasks-agent-pools\">docs</a>)</Text>} />\n                <Stack horizontal styles={{ root: { marginLeft: \"50px\" } }}>\n                    <TextField disabled={true} label=\"Agent Pool\" defaultValue=\"S1\"/>  \n                    <TextField disabled={true} label=\"O/S\" defaultValue=\"Linux\"/>  \n                    <TextField disabled={true} label=\"Agent Count\" defaultValue=\"1\"/>  \n                </Stack>\n            </Stack.Item>\n\n            <Separator className=\"notopmargin\" />\n\n            <Stack.Item align=\"start\">\n                <Label required={true}>\n                    CSI Secrets : Store Kubernetes Secrets in Azure KeyVault, using AKS Managed Identity (**Preview)\n                    (<a target=\"_new\" href=\"https://docs.microsoft.com/en-us/azure/aks/csi-secrets-store-driver\">docs</a>)\n                </Label>\n                <ChoiceGroup\n                    styles={{ root: { marginLeft: '50px' } }}\n                    selectedKey={addons.csisecret}\n                    options={[\n                        { key: 'none', text: 'No, I am happy to use the default Kubernetes secret storage, or I will configure my own solution' },\n                        { key: 'akvExist', text: 'Yes, store secrets in an existing KeyVault & enable Secrets Store CSI Driver' },\n                        { key: 'akvNew', text: 'Yes, provision a new Azure KeyVault & enable Secrets Store CSI Driver' }\n                    ]}\n                    onChange={(ev, { key }) => updateFn(\"csisecret\", key)}\n                />\n            </Stack.Item>\n\n            <Stack.Item align=\"center\" styles={{ root: { minWidth: '700px', display: (addons.csisecret === \"none\" ? \"none\" : \"block\") } }} >\n                <MessageBar messageBarType={MessageBarType.warning}>Ensure you register for this preview feature <Link target=\"_t2\" href=\"https://docs.microsoft.com/en-us/azure/aks/csi-secrets-store-driver#register-the-aks-azurekeyvaultsecretsprovider-preview-feature\">here</Link></MessageBar>\n                <Stack tokens={{ childrenGap: 15 }}>\n                    {addons.csisecret === \"akvExist\" &&\n                        <TextField value={addons.kvId} onChange={(ev, v) => updateFn(\"kvId\", v)} errorMessage={getError(invalidArray, 'kvId')} required placeholder=\"Resource Id\" label={<Text style={{ fontWeight: 600 }}>Enter your Azure Key Vault Resource Id</Text>} />\n                    }\n                </Stack>\n            </Stack.Item>\n\n            {/* \n        <ChoiceGroup\n          label='Enable gitops'\n          selectedKey={addons.gitops}\n          options={[\n            { key: 'none', text: 'No, I will manage my kubernetes deployments manually' },\n            { key: 'yes', text: 'Yes, enable gitops' }\n          ]}\n          onChange={(ev, { key }) => updateFn(\"gitops\", key)}\n        />\n        */}\n        </Stack >\n    )\n}\n","/* eslint-disable import/no-anonymous-default-export */\nimport React from 'react';\nimport { mergeStyles, TextField, Link, Separator, DropdownMenuItemType, Dropdown, Slider, Stack, Text, Label, ChoiceGroup, Checkbox, MessageBar, MessageBarType } from '@fluentui/react';\nimport { adv_stackstyle, getError, hasError } from './common'\n\nconst optionRootClass = mergeStyles({\n    display: 'flex',\n    alignItems: 'baseline'\n});\n\nexport const VMs = [\n    { key: 'b', text: 'Burstable (dev/test)', itemType: DropdownMenuItemType.Header },\n    { key: 'Standard_B2s', text: '2 vCPU,  4 GiB RAM,   8GiB SSD, 40%\t-> 200% CPU', eph: true },\n    { key: 'dv2', text: 'General purpose V2', itemType: DropdownMenuItemType.Header },\n    { key: 'default', text: '2 vCPU,  7 GiB RAM,  14GiB SSD,  86 GiB cache (8000 IOPS)', eph: false },\n    { key: 'Standard_DS3_v2', text: '4 vCPU, 14 GiB RAM,  28GiB SSD, 172 GiB cache (16000 IOPS)', eph: true },\n    { key: 'dv4', text: 'General purpose V4', itemType: DropdownMenuItemType.Header },\n    { key: 'Standard_D2ds_v4', text: '2 vCPU,  8 GiB RAM,  75GiB SSD,               (19000 IOPS)', eph: false },\n    { key: 'Standard_D4ds_v4', text: '4 vCPU, 16 GiB RAM, 150GiB SSD, 100 GiB cache (38500 IOPS)', eph: false },\n    { key: 'Standard_D8ds_v4', text: '8 vCPU, 32 GiB RAM, 300GiB SSD,               (77000 IOPS)', eph: true },\n    { key: 'fv2', text: 'Compute optimized', itemType: DropdownMenuItemType.Header },\n    { key: 'Standard_F2s_v2', text: '2 vCPU,  4 GiB RAM,  16GiB SSD,               (3200 IOPS)', eph: false }\n]\n\nexport default function ({ tabValues, updateFn, invalidArray }) {\n    const { cluster } = tabValues\n    return (\n        <Stack tokens={{ childrenGap: 15 }} styles={adv_stackstyle}>\n\n            <Label style={{ marginBottom: \"10px\" }}>Cluster Performance & Scale Requirements</Label>\n            <Stack vertical tokens={{ childrenGap: 15 }} style={{ marginTop: 0, marginLeft: '50px' }} >\n\n                <Stack horizontal tokens={{ childrenGap: 55 }}>\n                    <Stack.Item>\n                        <Label >Uptime SLA <Link target='_' href='https://docs.microsoft.com/azure/aks/uptime-sla'>docs</Link></Label>\n                        <ChoiceGroup\n                            selectedKey={cluster.AksPaidSkuForSLA}\n                            options={[\n                                { key: false, text: 'Free clusters with a service level objective (SLO) of 99.5%' },\n                                { key: true, text: 'Uptime SLA guarantees 99.95% availability of the Kubernetes API server endpoint for clusters that use Availability Zones' }\n                            ]}\n                            onChange={(ev, { key }) => updateFn(\"AksPaidSkuForSLA\", key)}\n                        />\n                    </Stack.Item>\n                </Stack>\n\n                <Stack horizontal tokens={{ childrenGap: 55 }}>\n                    <Stack.Item>\n                        <Label >System Pool Type <Link target='_' href='https://docs.microsoft.com/azure/aks/use-system-pools#system-and-user-node-pools'>docs</Link></Label>\n                        <ChoiceGroup\n\n                            selectedKey={cluster.SystemPoolType}\n                            options={[\n                                { \"data-testid\":'cluster-systempool-none', key: 'none', text: 'No separate system pool: Use a single pool for System and User workloads' },\n                                { \"data-testid\":'cluster-systempool-Cost-Optimised', key: 'Cost-Optimised', text: 'Cost-Optimised: use low-cost Burstable VMs, with 1-3 node autoscale' },\n                                { \"data-testid\":'cluster-systempool-Standard', key: 'Standard', text: 'Standard: use standard 4-core VMs, with 2-3 node autoscale' }\n                            ]}\n                            onChange={(ev, { key }) => updateFn(\"SystemPoolType\", key)}\n                        />\n                    </Stack.Item>\n                </Stack>\n\n                <Stack horizontal tokens={{ childrenGap: 150 }}>\n                    <Stack.Item>\n                        <Label >Scale Type</Label>\n                        <ChoiceGroup selectedKey={cluster.autoscale} onChange={(ev, { key }) => updateFn(\"autoscale\", key)}\n                            options={[\n                                {\n                                    key: false,\n                                    iconProps: { iconName: 'FollowUser' },\n                                    text: 'Manual scale'\n                                }, {\n                                    key: true,\n                                    iconProps: { iconName: 'ScaleVolume' },\n                                    text: 'Autoscale'\n                                }\n                            ]} />\n                    </Stack.Item>\n                    <Stack.Item>\n                        <Label >Scale Values</Label>\n                        <Stack tokens={{ childrenGap: 0 }} styles={{ root: { width: 450 } }}>\n                            <Slider label={`Initial ${cluster.autoscale ? \"(& Autoscaler Min nodes)\" : \"nodes\"}`} min={1} max={10} step={1} defaultValue={cluster.agentCount} showValue={true}\n                                onChange={(v) => updateFn(\"agentCount\", v)} />\n                            {cluster.autoscale && (\n                                <Slider label=\"Autoscaler Max nodes\" min={5} max={100} step={5} defaultValue={cluster.maxCount} showValue={true}\n                                    onChange={(v) => updateFn(\"maxCount\", v)}\n                                    snapToStep />\n                            )}\n                        </Stack>\n                    </Stack.Item>\n                </Stack>\n\n                <Stack horizontal tokens={{ childrenGap: 55 }}>\n                    <Stack.Item>\n                        <Label >Compute Type</Label>\n                        <ChoiceGroup\n\n                            selectedKey=\"gp\"\n                            options={[\n                                {\n                                    key: 'gp',\n                                    iconProps: { iconName: 'Processing' },\n                                    text: 'General Purpose'\n                                },\n                                {\n                                    key: 'iops',\n                                    iconProps: { iconName: 'OfflineStorageSolid' },\n                                    text: 'IO Optimised',\n                                    disabled: true\n                                },\n                                {\n                                    key: 'gpu',\n                                    iconProps: { iconName: 'Game' },\n                                    text: 'GPU Workloads',\n                                    disabled: true\n                                }\n                            ]} />\n                    </Stack.Item>\n\n                    <Stack.Item>\n                        <Label >Node Size</Label>\n                        <Stack tokens={{ childrenGap: 10 }} styles={{ root: { width: 450 } }}>\n                            <Dropdown\n\n                                selectedKey={cluster.vmSize}\n                                onChange={(ev, { key }) => updateFn(\"vmSize\", key)}\n                                placeholder=\"Select VM Size\"\n                                options={VMs}\n                                styles={{ dropdown: { width: \"100%\" } }}\n                            />\n\n                            {hasError(invalidArray, 'osDiskType') &&\n                                <MessageBar messageBarType={MessageBarType.error}>{getError(invalidArray, 'osDiskType')}</MessageBar>\n                            }\n                            <ChoiceGroup\n                                onChange={(ev, { key }) => updateFn(\"osDiskType\", key)}\n                                selectedKey={cluster.osDiskType}\n                                options={[\n                                    {\n                                        key: 'Ephemeral',\n                                        text: 'Ephemeral (Requires Node with >137GiB of cache)'\n                                    },\n                                    {\n                                        key: 'Managed',\n                                        text: 'Persistent in Storage Account',\n                                    }\n                                ]} />\n\n                            {cluster.osDiskType === 'Managed' &&\n                                <Dropdown\n                                    label=\"OS disk size\"\n                                    selectedKey={cluster.osDiskSizeGB}\n                                    onChange={(ev, { key }) => updateFn(\"osDiskSizeGB\", key)}\n                                    placeholder=\"Select OS Disk\"\n                                    options={[\n                                        { key: 'df', text: 'Use the default for the VM size', itemType: DropdownMenuItemType.Header },\n                                        { key: 0, text: 'default' },\n                                        { key: 'pd', text: 'Premium SSD Managed Disks', itemType: DropdownMenuItemType.Header },\n                                        { key: 32, text: '32 GiB (120 IOPS)' },\n                                        { key: 64, text: '64 GiB (240 IOPS)' },\n                                        { key: 128, text: '128 GiB (500 IOPS)' },\n                                    ]}\n                                    styles={{ dropdown: { width: \"100%\" } }}\n                                />\n                            }\n\n                        </Stack>\n                    </Stack.Item>\n                </Stack>\n            </Stack>\n\n            <Separator className=\"notopmargin\" />\n\n            <Stack.Item align=\"start\">\n                <Label required={true}>Zone Support - AKS clusters deployed with multiple availability zones configured across a cluster provide a higher level of availability to protect against a hardware failure or a planned maintenance event. See <Link target='_' href='https://docs.microsoft.com/azure/aks/availability-zones#limitations-and-region-availability'>limits</Link> before selecting\n                </Label>\n                <ChoiceGroup\n                    selectedKey={cluster.availabilityZones}\n                    styles={{ root: { marginLeft: '50px' } }}\n                    options={[\n                        { key: 'no', text: 'Deploy into single zone' },\n                        { key: 'yes', text: 'Deploy my control plane and nodes across zones 1,2,3' }\n\n                    ]}\n                    onChange={(ev, { key }) => updateFn(\"availabilityZones\", key)}\n                // styles={{ label: {fontWeight: \"regular\"}}}\n                />\n            </Stack.Item>\n\n            <Separator className=\"notopmargin\" />\n\n            <Stack.Item align=\"start\">\n                <Label required={true}>\n                    Cluster Auto-upgrade <Link target=\"_\" href=\"https://docs.microsoft.com/azure/aks/upgrade-cluster#set-auto-upgrade-channel\">docs</Link>\n                </Label>\n                <ChoiceGroup\n                    selectedKey={cluster.upgradeChannel}\n                    styles={{ root: { marginLeft: '50px' } }}\n                    options={[\n                        { key: 'none', text: 'Disables auto-upgrades' },\n                        { key: 'patch', text: 'Patch: auto-upgrade cluster to the latest supported patch version when it becomes available while keeping the minor version the same.' },\n                        { key: 'stable', text: 'Stable: auto-upgrade cluster to the latest supported patch release on minor version N-1, where N is the latest supported minor version' },\n                        { key: 'rapid', text: 'Rapid: auto-upgrade cluster to the latest supported patch release on the latest supported minor version.' }\n\n                    ]}\n                    onChange={(ev, { key }) => updateFn(\"upgradeChannel\", key)}\n                />\n            </Stack.Item>\n\n            <Separator className=\"notopmargin\" />\n\n            <Stack horizontal tokens={{ childrenGap: 142 }} styles={{ root: { marginTop: 10 } }}>\n                <Stack.Item>\n                    <ChoiceGroup\n                        styles={{ root: { marginLeft: '50px' } }}\n                        label={<Label>Cluster User Authentication <Link target=\"_\" href=\"https://docs.microsoft.com/azure/aks/managed-aad\">docs</Link></Label>}\n                        selectedKey={cluster.enable_aad}\n                        onChange={(ev, { key }) => updateFn(\"enable_aad\", key)}\n                        options={[\n                            {\n                                key: false,\n                                iconProps: { iconName: 'UserWarning' },\n                                text: 'Kubernetes'\n                            },\n                            {\n                                key: true,\n                                iconProps: { iconName: 'AADLogo' },\n                                text: 'AAD Integrated'\n                            }\n                        ]} />\n                </Stack.Item>\n\n                <Stack.Item>\n                    {cluster.enable_aad &&\n\n                        <Stack tokens={{ childrenGap: 10 }} styles={{ root: { width: 450, marginTop: \"30px\" } }}>\n\n                            <ChoiceGroup\n                                styles={{ root: { width: 300 } }}\n                                selectedKey={cluster.use_alt_aad}\n                                options={[\n                                    {\n                                        key: false,\n                                        text: 'Use the AKS subscription tenant',\n                                    },\n                                    {\n                                        key: true,\n                                        text: 'Use alt. tenant',\n                                        onRenderField: (props, render) => {\n\n                                            return (\n                                                <div className={optionRootClass}>\n                                                    {render(props)}\n                                                    <TextField\n                                                        value={cluster.aad_tenant_id}\n                                                        onChange={(ev, val) => updateFn(\"aad_tenant_id\", val)}\n                                                        errorMessage={getError(invalidArray, 'aad_tenant_id')}\n                                                        styles={{ root: { marginLeft: 5 } }}\n                                                        disabled={props ? !cluster.use_alt_aad : false}\n                                                        required placeholder=\"tenant id\" />\n\n\n                                                </div>\n                                            );\n                                        }\n                                    }\n                                ]}\n                                onChange={(ev, { key }) => updateFn('use_alt_aad', key)}\n\n                            />\n\n                            <Checkbox checked={cluster.enableAzureRBAC} onChange={(ev, val) => updateFn(\"enableAzureRBAC\", val)} onRenderLabel={() => <Text styles={{ root: { color: 'black' } }}>Azure RBAC for Kubernetes Authorization <Link target='_' href='https://docs.microsoft.com/azure/aks/manage-azure-rbac'>docs</Link>**</Text>} />\n\n                            {!cluster.enableAzureRBAC &&\n                                <>\n                                    <TextField label=\"AAD Group objectIDs that will have admin role of the cluster ',' separated\" onChange={(ev, val) => updateFn(\"aadgroupids\", val)} value={cluster.aadgroupids} />\n                                    {cluster.enable_aad && !cluster.aadgroupids &&\n                                        <MessageBar messageBarType={MessageBarType.warning}>You will be forbidden to do any kubernetes options unless you add a AAD Groups here, or follow <Link target='_' href='https://docs.microsoft.com/azure/aks/azure-ad-rbac#create-the-aks-cluster-resources-for-app-devs'>this</Link> after the cluster is created</MessageBar>\n                                    }\n                                </>\n                            }\n                        </Stack>\n                    }\n                </Stack.Item>\n            </Stack>\n\n            <Separator className=\"notopmargin\" />\n\n            <Stack.Item align=\"start\">\n                <Label required={true}>\n                    Cluster API Server Security\n                </Label>\n                <ChoiceGroup\n                    selectedKey={cluster.apisecurity}\n                    styles={{ root: { marginLeft: '50px' } }}\n                    options={[\n                        { key: 'none', text: 'Public IP with no IP restrictions' },\n                        { key: 'whitelist', text: 'Create allowed IP ranges (defaults to IP address of machine running the script)' },\n                        { key: 'private', text: 'Private Cluster (WARNING: most complex to operate)' }\n\n                    ]}\n                    onChange={(ev, { key }) => updateFn(\"apisecurity\", key)}\n                />\n            </Stack.Item>\n\n            <Stack.Item align=\"center\" styles={{ root: { maxWidth: '700px', display: (cluster.apisecurity === \"private\" ? \"block\" : \"none\") } }} >\n                <Label style={{ marginBottom: \"0px\" }}>Private dns zone mode for private cluster.</Label>\n                <Stack tokens={{ childrenGap: 15 }}>\n                    {cluster.apisecurity === \"private\" &&\n                        <ChoiceGroup selectedKey={cluster.privateDNSZone} onChange={(ev, { key }) => updateFn(\"privateDNSZone\", key)}\n                            options={[\n                                {\n                                    key: 'none',\n                                    text: 'None: Defaults to public DNS (AKS will not create a Private DNS Zone)'\n                                }, {\n                                    key: 'system',\n                                    disabled: true,\n                                    text: 'System: AKS will create a Private DNS Zone in the Node Resource Group'\n                                }, {\n                                    key: 'custom',\n                                    disabled: true,\n                                    text: 'Custom: BYO Private DNS Zone (provide ResourceId)'\n                                }\n                            ]} />\n                    }\n                </Stack>\n            </Stack.Item>\n        </Stack>\n\n    )\n}","/* eslint-disable import/no-anonymous-default-export */\nimport React from 'react';\nimport { Checkbox, Pivot, PivotItem, Image, TextField, Link, Separator, DropdownMenuItemType, Dropdown, Stack, Text, Toggle, Label, MessageBar, MessageBarType } from '@fluentui/react';\n\nimport { adv_stackstyle, getError } from './common'\n\nexport default function DeployTab({ defaults, updateFn, tabValues, invalidArray, invalidTabs, urlParams }) {\n\n  const { net, addons, cluster, deploy } = tabValues\n  const allok = !(invalidTabs && invalidTabs.length > 0)\n  const apiips_array = deploy.apiips.split(',').filter(x => x.trim())\n  const aksvnetparams = {\n    ...(net.vnetAddressPrefix !== defaults.net.vnetAddressPrefix && { vnetAddressPrefix: net.vnetAddressPrefix }),\n    ...(net.vnetAksSubnetAddressPrefix !== defaults.net.vnetAksSubnetAddressPrefix && { vnetAksSubnetAddressPrefix: net.vnetAksSubnetAddressPrefix })\n  }\n  const serviceparams = {\n    ...(net.serviceCidr !== defaults.net.serviceCidr && { serviceCidr: net.serviceCidr }),\n    ...(net.dnsServiceIP !== defaults.net.dnsServiceIP && { dnsServiceIP: net.dnsServiceIP })\n  }\n  const params = {\n    resourceName: deploy.clusterName,\n    kubernetesVersion: deploy.kubernetesVersion,\n    ...(cluster.agentCount !== defaults.cluster.agentCount && { agentCount: cluster.agentCount}),\n    ...(cluster.upgradeChannel !== \"none\" && { upgradeChannel: cluster.upgradeChannel }),\n    ...(cluster.AksPaidSkuForSLA !== defaults.cluster.AksPaidSkuForSLA && { AksPaidSkuForSLA: cluster.AksPaidSkuForSLA } ),\n    ...(cluster.SystemPoolType === 'none' ? { JustUseSystemPool: true } : cluster.SystemPoolType !== defaults.cluster.SystemPoolType && { SystemPoolType: cluster.SystemPoolType }),\n    ...(cluster.vmSize !== \"default\" && { agentVMSize: cluster.vmSize }),\n    ...(cluster.autoscale && { agentCountMax: cluster.maxCount }),\n    ...(cluster.osDiskType === \"Managed\" && { osDiskType: cluster.osDiskType, ...(cluster.osDiskSizeGB > 0 && { osDiskSizeGB: cluster.osDiskSizeGB }) }),\n    ...(net.vnet_opt === \"custom\" && { \n         custom_vnet: true, \n         ...serviceparams, \n         ...aksvnetparams,\n         ...(net.bastion !== defaults.net.bastion && {bastion: net.bastion}),\n         ...(net.bastion && defaults.net.bastionSubnetAddressPrefix !== net.bastionSubnetAddressPrefix && {bastionSubnetAddressPrefix: net.bastionSubnetAddressPrefix})\n       }),\n    ...(net.vnet_opt === \"byo\" && { byoAKSSubnetId: net.byoAKSSubnetId, ...serviceparams }),\n    ...(net.vnet_opt === \"byo\" && addons.ingress === 'appgw' && { byoAGWSubnetId: net.byoAGWSubnetId }),\n    ...(cluster.enable_aad && { enable_aad: true, ...(cluster.enableAzureRBAC === false && cluster.aad_tenant_id && { aad_tenant_id: cluster.aad_tenant_id }) }),\n    ...(cluster.enable_aad && cluster.enableAzureRBAC && { enableAzureRBAC: true, ...(deploy.clusterAdminRole && { adminprincipleid: \"$(az ad signed-in-user show --query objectId --out tsv)\" }) }),\n    ...(addons.registry !== \"none\" && { \n        registries_sku: addons.registry, \n        ...(deploy.acrPushRole && { acrPushRolePrincipalId: \"$(az ad signed-in-user show --query objectId --out tsv)\"}) }),\n    ...(net.afw && { azureFirewalls: true, ...(addons.certMan && {certManagerFW: true}), ...(net.vnet_opt === \"custom\" && defaults.net.vnetFirewallSubnetAddressPrefix !== net.vnetFirewallSubnetAddressPrefix && { vnetFirewallSubnetAddressPrefix: net.vnetFirewallSubnetAddressPrefix }) }),\n    ...(net.vnet_opt === \"custom\" && net.vnetprivateend && {\n        privateLinks: true, \n        ...(addons.csisecret === 'akvNew' && deploy.kvIPWhitelist  && apiips_array.length > 0 && {kvIPWhitelist: `\"${apiips_array[0]}\"`}),\n        ...(defaults.net.privateLinkSubnetAddressPrefix !== net.privateLinkSubnetAddressPrefix && {privateLinkSubnetAddressPrefix: net.privateLinkSubnetAddressPrefix}),\n    }),\n    ...(addons.monitor === \"aci\" && { omsagent: true, retentionInDays: addons.retentionInDays, ...( addons.createAksMetricAlerts !== defaults.addons.createAksMetricAlerts && {createAksMetricAlerts: addons.createAksMetricAlerts }) }),\n    ...(addons.networkPolicy !== \"none\" && { networkPolicy: addons.networkPolicy }),\n    ...(addons.azurepolicy !== \"none\" && { azurepolicy: addons.azurepolicy }),\n    ...(net.networkPlugin !== defaults.net.networkPlugin && {networkPlugin: net.networkPlugin}), \n    ...(net.vnet_opt === \"custom\" && net.networkPlugin === 'kubenet' && defaults.net.podCidr !== net.podCidr && { podCidr: net.podCidr }),\n    ...(cluster.availabilityZones === \"yes\" && { availabilityZones: ['1', '2', '3'] }),\n    ...(cluster.apisecurity === \"whitelist\" && deploy.clusterIPWhitelist && apiips_array.length > 0 && { authorizedIPRanges: apiips_array }),\n    ...(cluster.apisecurity === \"private\" && { enablePrivateCluster: true }),\n    ...(addons.ingress !== \"none\" && addons.dns && addons.dnsZoneId && { dnsZoneId: addons.dnsZoneId }),\n    ...(addons.ingress === \"appgw\" && {\n      ingressApplicationGateway: true, ...(net.vnet_opt === 'custom' && defaults.net.vnetAppGatewaySubnetAddressPrefix !== net.vnetAppGatewaySubnetAddressPrefix && { vnetAppGatewaySubnetAddressPrefix: net.vnetAppGatewaySubnetAddressPrefix }), ...(net.vnet_opt !== 'default' && {\n        appGWcount: addons.appGWcount,\n        appGWsku: addons.appGWsku,\n        ...(addons.appGWsku === 'WAF_v2' && addons.appGWenableFirewall !== defaults.addons.appGWenableFirewall && { appGWenableFirewall: addons.appGWenableFirewall }),\n        ...(addons.appGWsku === 'WAF_v2' && addons.appGWenableFirewall && addons.appGwFirewallMode !== defaults.addons.appGwFirewallMode && { appGwFirewallMode: addons.appGwFirewallMode }),\n        ...(addons.appGWautoscale && { appGWmaxCount: addons.appGWmaxCount }),\n        ...(addons.appgw_privateIp && { privateIpApplicationGateway: addons.appgw_privateIpAddress }),\n        ...(addons.appgwKVIntegration && addons.csisecret === 'akvNew' && { appgwKVIntegration: true })\n      })\n    }),\n    ...(addons.csisecret !== \"none\" && { azureKeyvaultSecretsProvider: true }),\n    ...(addons.csisecret === 'akvNew' && { createKV: true, ...(deploy.kvCertSecretRole && { kvOfficerRolePrincipalId: \"$(az ad signed-in-user show --query objectId --out tsv)\"}) })\n  }\n\n  const preview_params = {\n    ...(addons.gitops !== \"none\" && { gitops: addons.gitops }),\n    ...(net.vnet_opt === \"custom\" && net.vnetprivateend && {\n      ...(addons.registry !== \"none\" && {\n        ...(addons.acrPrivatePool !== defaults.addons.acrPrivatePool && {acrPrivatePool: addons.acrPrivatePool}),\n        ...(addons.acrPrivatePool && defaults.net.acrAgentPoolSubnetAddressPrefix !== net.acrAgentPoolSubnetAddressPrefix && {acrAgentPoolSubnetAddressPrefix: net.acrAgentPoolSubnetAddressPrefix})\n      })\n    })\n  }\n\n  const params2CLI = p => Object.keys(p).map(k => {\n    const val = p[k]\n    const targetVal = Array.isArray(val) ? JSON.stringify(val).replaceAll(' ', '').replaceAll('\"', '\\\\\"') : val\n    return ` \\\\\\n\\t${k}=${targetVal}`\n  }).join('')\n\n  const params2file = p => Object.keys(p).reduce((a, c) => { return { ...a, parameters: { ...a.parameters, [c]: { value: p[c] } } } }, {\n    \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#\",\n    \"contentVersion\": \"1.0.0.0\",\n    \"parameters\": {}\n  })\n\n  const finalParams = { ...params, ...(!deploy.disablePreviews && preview_params) }\n  const aks = `aks-${deploy.clusterName}`\n  const agw = `agw-${deploy.clusterName}`\n  const deploycmd =\n    `# Create Resource Group \\n` +\n    `az group create -l ${deploy.location} -n ${deploy.rg} \\n\\n` +\n    `# Deploy template with in-line parameters \\n` +\n    `az deployment group create -g ${deploy.rg}  ${process.env.REACT_APP_AZ_TEMPLATE_ARG} --parameters` + params2CLI(finalParams)\n  const param_file = JSON.stringify(params2file(finalParams), null, 2).replaceAll('\\\\\\\\\\\\', '').replaceAll('\\\\\\\\\\\\', '')\n\n  const prometheus_namespace = 'monitoring'\n  const prometheus_helm_release_name = 'monitoring'\n  const nginx_namespace = 'ingress-basic'\n  const nginx_helm_release_name = 'nginx-ingress'\n\n  const postscript =\n    // App Gateway addon: see main.bicep DEPLOY_APPGW_ADDON\n    (net.vnet_opt === \"byo\" && addons.ingress === 'appgw' ? `#------- START Workaround to enable AGIC with BYO VNET (until supported by template)\nAPPGW_RG_ID=\"$(az group show -n ${deploy.rg} --query id -o tsv)\"\nAPPGW_ID=\"$(az network application-gateway show -g ${deploy.rg} -n ${agw} --query id -o tsv)\"\naz aks enable-addons -n ${aks} -g ${deploy.rg} -a ingress-appgw --appgw-id $APPGW_ID\nAKS_AGIC_IDENTITY_ID=\"$(az aks show -g ${deploy.rg} -n ${aks} --query addonProfiles.ingressApplicationGateway.identity.clientId -o tsv)\"\naz role assignment create --role \"Contributor\" --assignee-principal-type ServicePrincipal --assignee-object-id $AKS_AGIC_IDENTITY_ID --scope $APPGW_ID\naz role assignment create --role \"Reader\" --assignee-principal-type ServicePrincipal --assignee-object-id $AKS_AGIC_IDENTITY_ID --scope $APPGW_RG_ID\n` : '') +\n    (net.vnet_opt === \"byo\" && addons.ingress === 'appgw' /* && appgwKVIntegration */ ? `\nAPPGW_IDENTITY=\"$(az network application-gateway show -g ${deploy.rg} -n ${agw} --query 'keys(identity.userAssignedIdentities)[0]' -o tsv)\"\naz role assignment create --role \"Managed Identity Operator\" --assignee-principal-type ServicePrincipal --assignee-object-id $AKS_AGIC_IDENTITY_ID --scope $APPGW_IDENTITY\n` : '') +\n    (net.vnet_opt === \"byo\" && addons.ingress === 'appgw' ? `#------- END Workaround\n  ` : '') +\n    // CSI-Secret KeyVault addon - using this method until supported by ARM template\n    //    (addons.csisecret !== \"none\" ? `\\n# Workaround to enabling the csisecret addon (in preview)\n    //az aks enable-addons -n ${aks} -g ${deploy.rg} -a azure-keyvault-secrets-provider\n    //` : '') +\n\n    // Get credentials\n    (cluster.apisecurity !== \"private\" ?\n    `\\n# Get credentials for your new AKS cluster\naz aks get-credentials -g ${deploy.rg} -n ${aks} ` : \"\"\n    ) + \n    // Prometheus\n    (addons.monitor === 'oss' ? `\\n\\n# Install kube-prometheus-stack\nhelm repo add prometheus-community https://prometheus-community.github.io/helm-charts\nhelm repo update\nkubectl create namespace ${prometheus_namespace}\nhelm install ${prometheus_helm_release_name} prometheus-community/kube-prometheus-stack --namespace ${prometheus_namespace}` : '') +\n    // Nginx Ingress Controller\n    (addons.ingress === 'nginx' ? `\\n\\n# Create a namespace for your ingress resources\nkubectl create namespace ${nginx_namespace}\n\n# Add the ingress-nginx repository\nhelm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx\n\n# Use Helm to deploy an NGINX ingress controller\nhelm install ${nginx_helm_release_name} ingress-nginx/ingress-nginx \\\\\n  --set controller.publishService.enabled=true \\\\\n` + (addons.ingressEveryNode ?\n        `  --set controller.kind=DaemonSet \\\\\n  --set controller.service.externalTrafficPolicy=Local \\\\\n` : '') +\n      (addons.monitor === 'oss' ?\n        `  --set controller.metrics.enabled=true \\\\\n  --set controller.metrics.serviceMonitor.enabled=true \\\\\n  --set controller.metrics.serviceMonitor.namespace=${prometheus_namespace} \\\\\n  --set controller.metrics.serviceMonitor.additionalLabels.release=${prometheus_helm_release_name} \\\\\n` : '') +\n      `  --namespace ${nginx_namespace}` : '') +\n    (addons.ingress === 'contour' ? `\\n\\n# Install Contour Ingress Controller\n${cluster.apisecurity === \"private\" ? `az aks command invoke -g ${deploy.rg} -n ${aks}  --command \"` : ``}\nkubectl apply -f https://projectcontour.io/quickstart/contour.yaml\n${cluster.apisecurity === \"private\" ? `\"` : ``}\n` : '') +\n    // External DNS\n    (addons.ingress !== \"none\" && addons.dns &&  addons.dnsZoneId ? `\n\n# Install external-dns\n# external-dns needs permissions to make changes in the Azure DNS server.\n# https://github.com/kubernetes-sigs/external-dns/blob/master/docs/tutorials/azure.md#azure-managed-service-identity-msi\n\n${cluster.apisecurity === \"private\" ? `az aks command invoke -g ${deploy.rg} -n ${aks}  --command \"` : ``}\nkubectl create secret generic azure-config-file --from-file=azure.json=/dev/stdin<<EOF\n{\n  userAssignedIdentityID: $(az aks show -g ${deploy.rg} -n ${aks} --query identityProfile.kubeletidentity.clientId -o tsv),\n  tenantId: $(az account show --query tenantId -o tsv),\n  useManagedIdentityExtension: true,\n  subscriptionId: ${addons.dnsZoneId.split('/')[2]},\n  resourceGroup: ${addons.dnsZoneId.split('/')[4]}\n}\nEOF\n${cluster.apisecurity === \"private\" ? `\"` : ``}\n# external-dns manifest (for clusters with RBAC) replacing {{domain-filter}} and {{providers}} values \ncurl https://raw.githubusercontent.com/Azure/Aks-Construction/main/helper/config/external-dns.yml | sed -e \"s|{{domain-filter}}|${addons.dnsZoneId.split('/')[8]}|g\" -e \"s|{{provider}}|${addons.dnsZoneId.split('/')[7] === 'privateDnsZones' ? 'azure-private-dns' : 'azure'}|g\"  >/tmp/aks-ext-dns.yml\n${cluster.apisecurity === \"private\" ? \n  `az aks command invoke -g ${deploy.rg} -n ${aks} --command \"kubectl apply -f ./aks-ext-dns.yml\" --file  /tmp/aks-ext-dns.yml` \n: \n  `kubectl apply -f /tmp/aks-ext-dns.yml`}\n\n` : '') +\n    // Cert-Manager\n    (addons.ingress !== 'none' && addons.certMan ? `\n\n# Install cert-manager\n# https://cert-manager.io/docs/installation/\n# Cannot use 1.6.0 with AGIC https://github.com/jetstack/cert-manager/issues/4547\n\n${cluster.apisecurity === \"private\" ? `az aks command invoke -g ${deploy.rg} -n ${aks}  --command \"` : ``}\nkubectl apply -f https://github.com/jetstack/cert-manager/releases/download/${addons.ingress === 'appgw' ? 'v1.5.3' : 'v1.6.0'}/cert-manager.yaml\n${cluster.apisecurity === \"private\" ? `\"` : ``}\n\n# Wait for cert-manager to install\nsleep 30s\n\n# cert-manager ACME ClusterIssuer Configuration (client owns the domain)\n# Lets Encrypt production Issuer, using either HTTP01 for external services, or DNS01 for internal\n# https://cert-manager.io/docs/configuration/acme/\n\ncat >/tmp/aks-issuer.yml<<EOF \napiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: letsencrypt-prod\nspec:\n  acme:\n    # The ACME server URL\n    server: https://acme-v02.api.letsencrypt.org/directory\n    # Email address used for ACME registration\n    email: ${addons.certEmail}\n    # Name of a secret used to store the ACME account private key\n    privateKeySecretRef:\n      name: letsencrypt-prod\n    # Enable the HTTP-01 challenge provider\n    solvers:\n#    - dns01:\n#        # Add azureDNS resolver for Private endpoints, but this need to be fixed: https://github.com/cert-manager/website/issues/662\n#        azureDNS:\n#          subscriptionID: ${addons.dnsZoneId.split('/')[2]}\n#          resourceGroupName: ${addons.dnsZoneId.split('/')[4]}\n#          hostedZoneName: ${addons.dnsZoneId.split('/')[8]}\n#          managedIdentity:\n#            # client id of the node pool managed identity (can not be set at the same time as resourceID)\n#            # https://github.com/tomasfreund/website/blob/ee75bf5685474c651d08750ecfe3a150de5eb586/content/en/docs/configuration/acme/dns01/azuredns.md\n#            clientID: $(az aks show -g ${deploy.rg} -n ${aks} --query identityProfile.kubeletidentity.clientId -o tsv)\n    - http01:\n        ingress:\n          class: ${(addons.ingress === 'contour' ? 'contour' : (addons.ingress === 'nginx' ? \"nginx\" : \"azure/application-gateway\"))}\nEOF\n${cluster.apisecurity === \"private\" ? `az aks command invoke -g ${deploy.rg} -n ${aks} --command \"kubectl apply -f ./aks-issuer.yml\" --file  /tmp/aks-issuer.yml` \n:\n `kubectl apply -f /tmp/aks-issuer.yml`}\n` : '')\n\n  return (\n\n    <Stack tokens={{ childrenGap: 15 }} styles={adv_stackstyle}>\n      {!allok &&\n        <MessageBar messageBarType={MessageBarType.severeWarning}>\n          <Text >Configuration not complete, please correct the tabs with the warning symbol <b>({invalidTabs.join(' & ')})</b> before deploying</Text>\n        </MessageBar>\n      }\n      <Stack horizontal styles={{ root: { width: \"100%\" } }} tokens={{ childrenGap: 50 }}>\n        <Stack tokens={{ childrenGap: 10 }} styles={{ root: { width: \"400px\" } }}>\n\n          <Separator ><div style={{ display: \"flex\", alignItems: 'center', }}><b style={{ marginRight: '10px' }}>Environment Name & Location</b></div> </Separator>\n\n          <TextField label=\"Cluster Name\" onChange={(ev, val) => updateFn('clusterName', val)} required errorMessage={getError(invalidArray, 'clusterName')} value={deploy.clusterName} />\n          <TextField label=\"Resource Group\" onChange={(ev, val) => updateFn('rg', val)} required errorMessage={getError(invalidArray, 'rg')} value={deploy.rg} />\n          <TextField label=\"Kubernetes version\" prefix=\"Current GA Version\" readOnly={false} disabled={false} required value={deploy.kubernetesVersion} onChange={(ev, val) => updateFn('kubernetesVersion', val)} />\n\n          <Dropdown\n            data-testid=\"deploy-location-Dropdown\"\n            label=\"Location\"\n            selectedKey={deploy.location}\n            onChange={(ev, { key }) => updateFn('location', key)}\n            options={[\n              { key: 'europe', text: 'Europe', itemType: DropdownMenuItemType.Header },\n              { key: \"WestEurope\", text: \"West Europe\" },\n              { key: \"NorthEurope\", text: \"North Europe\" },\n              { key: \"UKSouth\", text: \"UK South\" },\n              { key: \"UKSouth2\", text: \"UK South2\" },\n              { key: \"UKWest\", text: \"UK West\" },\n              { key: 'america', text: 'North America', itemType: DropdownMenuItemType.Header },\n              { key: \"CentralUS\", text: \"Central US\" },\n              { key: \"EastUS\", text: \"East US\" },\n              { key: \"EastUS2\", text: \"East US2\" },\n              { key: \"WestUS\", text: \"West US\" },\n              { key: \"WestUS2\", text: \"West US2\" },\n              { key: \"WestCentralUS\", text: \"West Central US\" }\n            ]}\n            styles={{ dropdown: { width: 300 } }}\n          />\n        </Stack>\n        <Stack tokens={{ childrenGap: 20 }} styles={{ root: { width: \"400px\" } }}>\n\n          <Separator ><div style={{ display: \"flex\", alignItems: 'center', }}><b style={{ marginRight: '10px' }}>Environment Access & Build Agents</b></div> </Separator>\n\n          <TextField label=\"Current IP Address\" prefix=\"IP or Cidr , separated\" errorMessage={getError(invalidArray, 'apiips')} onChange={(ev, val) => updateFn(\"apiips\", val)} value={deploy.apiips} required={cluster.apisecurity === \"whitelist\"} />\n\n          <Stack.Item>\n            <Label>Grant AKS Cluster Admin Role <a target=\"_target\" href=\"https://docs.microsoft.com/en-gb/azure/aks/manage-azure-rbac#create-role-assignments-for-users-to-access-cluster\">docs</a></Label>\n            <Checkbox disabled={cluster.enable_aad === false || cluster.enableAzureRBAC === false} checked={deploy.clusterAdminRole} onChange={(ev, v) => updateFn(\"clusterAdminRole\", v)} label=\"Assign deployment user 'ClusterAdmin'\" />\n            <Checkbox disabled={cluster.apisecurity !== \"whitelist\"}  onChange={(ev, val) => updateFn(\"clusterIPWhitelist\", val)} checked={deploy.clusterIPWhitelist} label=\"Add current IP to AKS firewall (applicable to AKS IP ranges)\"  />\n          </Stack.Item>\n\n          <Stack.Item>\n            <Label>Grant Azure Container Registry (ACR) Push role </Label>\n            <Checkbox disabled={addons.registry === \"none\"} checked={deploy.acrPushRole} onChange={(ev, v) => updateFn(\"acrPushRole\", v)} label=\"Assign deployment user 'AcrPush'\" />\n          </Stack.Item>\n\n          <Stack.Item>\n            <Label>Grant Key Vault Certificate and Secret Officer role <a target=\"_target\" href=\"https://docs.microsoft.com/azure/key-vault/general/rbac-guide?tabs=azure-cli#azure-built-in-roles-for-key-vault-data-plane-operations\">docs</a></Label>\n            <Checkbox disabled={addons.csisecret !== 'akvNew'} checked={deploy.kvCertSecretRole} onChange={(ev, v) => updateFn(\"kvCertSecretRole\", v)} label=\"Assign deployment user Certificate and Secret Officer\" />\n            <Checkbox disabled={addons.csisecret !== 'akvNew' || !net.vnetprivateend} checked={deploy.kvIPWhitelist} onChange={(ev, v) => updateFn(\"kvIPWhitelist\", v)} label=\"Add current IP to KeyVault firewall (applicable to private link)\" />\n          </Stack.Item>\n\n        </Stack>\n\n      </Stack>\n\n      <Separator styles={{ root: { marginTop: '30px !important' } }}><div style={{ display: \"flex\", alignItems: 'center', }}><b style={{ marginRight: '10px' }}>Deploy Cluster</b><Image src=\"./bicep.png\" /> <p style={{ marginLeft: '10px' }}>powered by Bicep</p></div> </Separator>\n\n      {Object.keys(preview_params).length > 0 &&\n        <MessageBar messageBarType={MessageBarType.warning}>\n          <Text >Your deployment contains Preview features: <b>{Object.keys(preview_params).join(', ')}</b>, Ensure you have registered for these previews, and have installed the <b>'az extension add --name aks-preview'</b>  before running the script, <Link target=\"_pv\" href=\"https://github.com/Azure/AKS/blob/master/previews.md\">see here</Link>, or disable preview features here</Text>\n          <Toggle styles={{ root: { marginTop: \"10px\" } }} onText='preview enabled' offText=\"preview disabled\" checked={!deploy.disablePreviews} onChange={(ev, checked) => updateFn(\"disablePreviews\", !checked)} />\n        </MessageBar>\n\n      }\n      \n      { urlParams.toString() !== \"\" && \n        <Text variant=\"medium\">Not ready to deploy? Bookmark your configuration : <a href={\"?\" + urlParams.toString()}>{urlParams.toString()}</a></Text>\n      }\n\n      <Pivot >\n        <PivotItem headerText=\"Provision Environment (CLI)\"  >\n          <TextField data-testid=\"deploy-deploycmd\"  value={deploycmd} rows={deploycmd.split(/\\r\\n|\\r|\\n/).length + 1} readOnly={true} label=\"Commands to deploy your fully operational environment\" styles={{ root: { fontFamily: 'Monaco, Menlo, Consolas, \"Droid Sans Mono\", Inconsolata, \"Courier New\", monospace' }, field: { backgroundColor: 'lightgrey', lineHeight: '21px' } }} multiline errorMessage={!allok ? \"Please complete all items that need attention before running script\" : \"\"} />\n          <Text styles={{ root: { marginTop: \"2px !important\" } }} variant=\"medium\" >\n            Open a Linux shell (requires 'az cli' pre-installed), or, open the\n            <Link target=\"_cs\" href=\"http://shell.azure.com/\">Azure Cloud Shell</Link>.\n            <Text variant=\"medium\" style={{ fontWeight: \"bold\" }}>Paste the commands</Text> into the shell\n          </Text>\n        </PivotItem>\n\n        <PivotItem headerText=\"Post Configuration\">\n          {addons.gitops === 'none' ?\n            <Stack>\n              <Label>Run these commands to install the requested kubernetes packages into your cluster</Label>\n              <MessageBar>Once available, we will switch to using the gitops addon here, to assure that your clusters get their source of truth from the defined git repo</MessageBar>\n              <TextField readOnly={true} label=\"Commands (requires helm)\" styles={{ root: { fontFamily: 'SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace!important' }, field: { backgroundColor: 'lightgrey', lineHeight: '21px' } }} multiline rows={postscript.split(/\\r\\n|\\r|\\n/).length + 1} value={postscript} />\n            </Stack>\n            :\n            <Stack>\n\n              <TextField readOnly={true} label=\"While Gitops is in preview, run this manually\" styles={{ root: { fontFamily: 'SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace!important' }, field: { backgroundColor: 'lightgrey', lineHeight: '21px' } }} multiline rows={6} value={`az k8sconfiguration create\n        --name cluster-config \n        --cluster-name ${aks}    \n        --resource-group ${deploy.rg}     \n        --operator-instance-name flux     \n        --operator-namespace cluster-config     \n        --enable-helm-operator     \n        --operator-params='--git-readonly --git-path=cluster-config'     \n        --repository-url git://github.com/khowling/aks-deploy-arm.git     \n        --scope cluster     \n        --helm-operator-params='--set helm.versions=v3'     \n        --cluster-type managedclusters`} />\n\n            </Stack>\n          }\n        </PivotItem>\n\n        <PivotItem headerText=\"Template Parameters File (for CI/CD)\">\n\n          <TextField value={param_file} rows={param_file.split(/\\r\\n|\\r|\\n/).length + 1} readOnly={true} label=\"Parameter file\" styles={{ root: { fontFamily: 'SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace!important' }, field: { backgroundColor: 'lightgrey', lineHeight: '21px' } }} multiline  >\n          </TextField>\n\n        </PivotItem>\n      </Pivot>\n      \n    </Stack>\n  )\n}","import React from 'react';\nimport { Checkbox, Pivot, PivotItem, Image, TextField, Separator, Stack,  Label, MessageBar, MessageBarType } from '@fluentui/react';\n\nimport { adv_stackstyle } from './common'\n\nexport default function AppsTab({  tabValues }) {\n\n    const { addons, deploy, net, cluster } = tabValues\n    const aks = `aks-${deploy.clusterName}`\n\n    const deploycmd = `\n# Build app\nexport ACRNAME=$(az acr list -g ${deploy.rg} --query [0].name -o tsv)\naz acr build -r $ACRNAME -t openjdk-demo:0.0.1  ${net.vnetprivateend ? \"--agent-pool private-pool\" : \"\"} https://github.com/khowling/e2e-tls-java-aks.git\n\n\n\n# Create backend Certificate in KeyVault\nexport KVNAME=$(az keyvault list -g ${deploy.rg} --query [0].name -o tsv)\nexport COMMON_NAME=openjdk-demo\naz keyvault certificate create --vault-name $KVNAME -n $COMMON_NAME -p \"$(az keyvault certificate get-default-policy | sed -e s/CN=CLIGetDefaultPolicy/CN=$\\{COMMON_NAME}/g )\"\n\n` + \n( addons.ingress === 'appgw' ? `\n# Wait for Cert to be issued\nsleep 1m\n\n## Create Root Cert reference in AppGW (Required for Self-Signed Cert)\naz network application-gateway root-cert create \\\\\n     --gateway-name $(az network application-gateway list -g ${deploy.rg} --query [0].name -o tsv)  \\\\\n     --resource-group ${deploy.rg} \\\\\n     --name $COMMON_NAME \\\\\n     --keyvault-secret $(az keyvault secret list-versions --vault-name $KVNAME -n $COMMON_NAME --query \"[?attributes.enabled].id\" -o tsv)\n` : '' ) + `\n# Install\nexport APPNAME=openjdk-demo\n${cluster.apisecurity === \"private\" ? `az aks command invoke -g ${deploy.rg} -n ${aks}  --command \"` : ``}\nhelm upgrade --install $APPNAME https://github.com/khowling/e2e-tls-java-aks/blob/main/openjdk-demo-3.1.0.tgz?raw=true  --set ingressType=${addons.ingress},letsEncrypt.issuer=letsencrypt-prod,image.repository=$\\{ACRNAME}.azurecr.io/openjdk-demo,image.tag=0.0.1,csisecrets.vaultname=$\\{KVNAME},csisecrets.tenantId=$(az account show --query tenantId -o tsv),csisecrets.clientId=$(az aks show -g ${deploy.rg} -n ${aks} --query addonProfiles.azureKeyvaultSecretsProvider.identity.clientId -o tsv),dnsname=$\\{APPNAME}.${addons.dnsZoneId.split('/')[8]}\n${cluster.apisecurity === \"private\" ? `\"` : ``}\n`\n\n    return (\n        <Stack tokens={{ childrenGap: 15 }} styles={adv_stackstyle}>\n            <Pivot >\n                <PivotItem headerText=\"Secure Java\"  >\n                    <Stack tokens={{ childrenGap: 15 }} styles={adv_stackstyle}>\n\n            <Separator styles={{ root: { marginTop: '30px !important' } }}><div style={{ display: \"flex\", alignItems: 'center', }}><b style={{ marginRight: '10px' }}>Java Spring Boot Hello World</b><Image  height=\"80px\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Spring_Framework_Logo_2018.svg/245px-Spring_Framework_Logo_2018.svg.png\" /></div> </Separator>\n\n                        <Stack.Item>\n                            <Label >Simple Java Spring boot application, that uses KeyVault to generate Certs to expose Tomcat TLS endpoint, and public Ingress TLS issued by cert-manager</Label>\n\n                            <MessageBar messageBarType={MessageBarType.error}>Please ensure your deployment meets all the requirements below in order to run the demo app successfully</MessageBar>\n                            <Label>Sample App Requires</Label>\n                            <Checkbox styles={{ root: { marginLeft: '50px' }}} checked={addons.registry !== \"none\"} label=\"(Addons tab) Container Registry, for application container repository\" />\n                            <Checkbox styles={{ root: { marginLeft: '50px' }}} disabled={!net.vnetprivateend} checked={addons.acrPrivatePool} label=\"(Addons tab) Container Registry Private Pool, for container build task (required for private link only)\" />\n                            <Checkbox styles={{ root: { marginLeft: '50px' }}} checked={deploy.kvCertSecretRole} label=\"(Deploy tab) Grant Key Vault Certificate and Secret Officer\" />\n                            <Checkbox styles={{ root: { marginLeft: '50px' }}} checked={addons.csisecret === 'akvNew'} label=\"(Addons tab) CSI Secrets, for tomcat TLS certificates\" />\n                            <Checkbox styles={{ root: { marginLeft: '50px' }}} checked={addons.ingress !== 'none'} label=\"(Addons Tab) Ingress, for securely exposing app\" />\n                            <Checkbox styles={{ root: { marginLeft: '50px' }}} checked={addons.dns} label=\"(Addons Tab) external-dns, for application hostname resolution\" />\n                            <Checkbox styles={{ root: { marginLeft: '50px' }}} checked={addons.certMan} label=\"(Addons Tab) cert-manager, to generate the frontend CA signed Cert\" />\n                            \n                        </Stack.Item>\n                        <Stack.Item>\n                            <TextField value={deploycmd} rows={deploycmd.split(/\\r\\n|\\r|\\n/).length + 1} readOnly={true} styles={{ root: { fontFamily: 'Monaco, Menlo, Consolas, \"Droid Sans Mono\", Inconsolata, \"Courier New\", monospace' }, field: { backgroundColor: 'lightgrey', lineHeight: '21px' } }} multiline  />\n                        </Stack.Item>\n                    </Stack>\n                </PivotItem>\n                <PivotItem headerText=\".NET Microservices\"  >\n                    <Separator styles={{ root: { marginTop: '30px !important' } }}><div style={{ display: \"flex\", alignItems: 'center', }}><b style={{ marginRight: '10px' }}>TBC</b><Image  height=\"80px\" src=\"https://img.stackshare.io/service/11331/asp.net-core.png\" /></div> </Separator>\n                    <Stack.Item>\n                            <Label >.</Label>\n                    </Stack.Item>\n                    <Stack.Item>\n                            <TextField value={\"\"} rows={25} readOnly={true} styles={{ root: { fontFamily: 'Monaco, Menlo, Consolas, \"Droid Sans Mono\", Inconsolata, \"Courier New\", monospace' }, field: { backgroundColor: 'lightgrey', lineHeight: '21px' } }} multiline  />\n                    </Stack.Item>\n                </PivotItem>\n                <PivotItem headerText=\"Full Stack Typescript\">\n                    <Separator styles={{ root: { marginTop: '30px !important' } }}><div style={{ display: \"flex\", alignItems: 'center', }}><b style={{ marginRight: '10px' }}>TBC</b><Image height=\"80px\" src=\"https://sdtimes.com/wp-content/uploads/2020/06/ts-logo-256.png\" /></div> </Separator>\n                    <Stack.Item>\n                            <Label >.</Label>\n                    </Stack.Item>\n                    <Stack.Item>\n                            <TextField value={\"\"} rows={25} readOnly={true} styles={{ root: { fontFamily: 'Monaco, Menlo, Consolas, \"Droid Sans Mono\", Inconsolata, \"Courier New\", monospace' }, field: { backgroundColor: 'lightgrey', lineHeight: '21px' } }} multiline  />\n                    </Stack.Item>\n                </PivotItem>\n            </Pivot>\n        </Stack>\n    )\n}\n","\nimport React, { useState, useEffect } from 'react';\nimport { ThemeProvider, Link, Toggle, TooltipHost, Pivot, PivotItem, Icon, Separator, Stack, Text } from '@fluentui/react';\nimport Presents from './presets'\n\nimport NetworkTab from './networkTab'\nimport AddonsTab from './addonsTab'\nimport ClusterTab, { VMs } from './clusterTab'\nimport DeployTab from './deployTab'\nimport AppsTab from './appsTab'\n\nimport { appInsights } from '../index.js'\nimport { initializeIcons } from '@fluentui/react/lib/Icons';\ninitializeIcons();\n\n\nfunction useAITracking(componentName, key) {\n\n  useEffect(() => {\n    const start = new Date(), pagename = `${componentName}.${key}`\n    appInsights.startTrackPage(pagename)\n    return () => {\n      console.log(`exit screen ${key} ${(new Date() - start) / 1000}`)\n      appInsights.stopTrackPage(pagename,\n        { 'Component Name': componentName, 'Navigation': key },\n        { mounttime: (new Date() - start) / 1000 })\n    };\n  }, [componentName, key])\n\n}\n\nfunction Header({ entScale, setEntScale, featureFlag }) {\n  return (\n    <Stack horizontal tokens={{ childrenGap: 10 }}>\n      <img src=\"aks.svg\" alt=\"Kubernetes Service\" style={{ width: \"6%\", height: \"auto\" }}></img>\n      <Stack tokens={{ padding: 10 }}>\n        <Text variant=\"xLarge\">AKS Deploy helper</Text>\n        <Text >Provide the requirements of your AKS deployment to generate the assets to create a full operational environment, incorporating best-practices guidance. For documentation, and CI/CD samples - please refer to our <a href=\"https://github.com/Azure/Aks-Construction\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Repository</a></Text>\n      </Stack>\n      <Stack.Item tokens={{ padding: 10 }}>\n        <Toggle\n          label={\n            <Text nowrap>\n              Enterprise Scale{' '}\n              <TooltipHost content=\"use if you are following Enterprise Scale\">\n                <Icon iconName=\"Info\" aria-label=\"Info tooltip\" />\n              </TooltipHost>\n            </Text>\n          }\n          onText=\"Yes\"\n          offText=\"No\"\n          checked={entScale}\n          disabled={false}\n          onChange={(ev, val) => setEntScale(val)}\n        />\n      </Stack.Item>\n    </Stack>\n  )\n}\n\n\n\n/*\n *   PortalNav\n *   Main Screen of the Helper\n *   All validation should live here\n */\nexport default function PortalNav({ config }) {\n\n  console.log (`PortalNav: ${JSON.stringify(Object.keys(config))}`)\n  \n  const { tabLabels, defaults, entScaleOps, defaultOps } = config\n  const [pivotkey, setPivotkey] = useState(Object.keys(tabLabels)[0])\n\n  useAITracking(\"PortalNav\", tabLabels[pivotkey])\n\n  const [urlParams, setUrlParams] = useState(new URLSearchParams(window.location.search))\n  const [invalidArray, setInvalidArray] = useState(() => Object.keys(defaults).reduce((a, c) => { return { ...a, [c]: [] } }, {}))\n\n  const featureFlag = urlParams.has('feature')\n  const [entScale, setEntScale] = useState(() => urlParams.has('entScale'))\n\n\n  const sections = entScale ? entScaleOps : defaultOps\n  const [selected, setSelected] = useState(() => { return {\n        values: sections.reduce((a, s) => {\n            return { ...a, [s.key]: urlParams.has(s.key) ? urlParams.get(s.key) : s.cards.find(c => c.default).key } \n          }, {}),\n        entScale\n      }\n    })\n\n  const [tabValues, setTabValues] = useState(() => {\n    const clusterName = `az-k8s-${(Math.floor(Math.random() * 900000) + 100000).toString(36)}`\n\n    // Apply selected presets to tab values\n    const tabApplySections = Object.keys(selected.values).reduce((acc,curr) => \n      updateTabValues (acc, sections, curr, selected.values[curr])\n    , defaults)\n\n    // Apply dynamic presets to tab values\n    const dynamicApplySections = {\n      ...tabApplySections,\n      deploy: {\n        ...tabApplySections.deploy,\n        clusterName,\n        rg: `${clusterName}-rg`,\n        ...(process.env.REACT_APP_K8S_VERSION && { kubernetesVersion: process.env.REACT_APP_K8S_VERSION })\n      }\n    }\n    // Apply url params to tab values\n    const urlApplySections = Object.keys(dynamicApplySections).reduce((acct, currt) => {  \n        return {\n          ...acct, \n          [currt]: Object.keys(dynamicApplySections[currt]).reduce((accv, currv) => {\n            const urlname = `${currt}.${currv}`\n            let valres =  dynamicApplySections[currt][currv]\n            if (urlParams.has(urlname)) {\n              let val = urlParams.get(urlname)\n              valres = val === \"true\" ? true : val === \"false\" ? false : isNaN(val) ? val : parseInt(val)\n            }\n            return {...accv, [currv]: valres }}, {})\n        }\n    }, {})\n\n    return  urlApplySections\n  })\n\n\n  function updateTabValues (currenttabValues, sections, sectionKey, cardKey) {\n    const card_values = sections.find(s => s.key === sectionKey).cards.find(c => c.key === cardKey).values\n    console.log (`updateTabValues: sectionKey=${sectionKey} cardKey=${cardKey}, setting tabs ${JSON.stringify(Object.keys(card_values))}`)\n    return Object.keys(card_values).reduce((acc, curr) => {\n      return {\n        ...acc, \n        [curr]: {\n          ...acc[curr],\n          // resolve conditional params\n          ...Object.keys(card_values[curr]).reduce((a, c) => {\n            const val = card_values[curr][c]\n            //console.log (`updateTabValues: looking for conditional value=${JSON.stringify(val)}`)\n            // if value is array with at least 1 element with a object that has a properly 'set'\n            const targetVal = Array.isArray(val) && val.length > 0 && typeof val[0] === 'object' && val[0].hasOwnProperty(\"set\") ?\n              val.reduce((a, c) => a === undefined ? (c.page && c.field ? (currenttabValues[c.page][c.field] === c.value ? c.set : undefined) : c.set) : a, undefined)\n              :\n              val\n            //console.log(`updateTabValues: setting tab=${curr}, field=${c} val=${JSON.stringify(val)} targetVal=${JSON.stringify(targetVal)}`)\n            return { ...a, [c]: targetVal }\n          }, {})\n        }\n      }\n    }, currenttabValues)\n  }\n\n  function updateSelected(sectionKey, cardKey) {\n\n    setUrlParams((currentUrlParams) => {\n\n      if (selected.entScale !== entScale) {\n        console.log (`User changed entScale switch, and selected a new card, need to unselect old cards`)\n        defaultOps.forEach(element => {\n          currentUrlParams.delete(element.key)\n        })\n        entScaleOps.forEach(element => {\n          currentUrlParams.delete(element.key)\n        })\n      }\n  \n      if (entScale) {\n        currentUrlParams.set('entScale', 1)\n      } else {\n        currentUrlParams.delete('entScale')\n      }\n      currentUrlParams.set(sectionKey,cardKey)\n      return currentUrlParams\n    })\n\n\n    console.log (`updateSelected: sectionKey=${sectionKey} cardKey=${cardKey}`)\n    setSelected({entScale, values: { ...(selected.entScale === entScale && selected.values), [sectionKey]: cardKey }})\n    setTabValues(currentTabValues => updateTabValues(currentTabValues, sections, sectionKey, cardKey))\n    \n    //window.history.replaceState(null, null, \"?\"+urlParams.toString())\n  }\n\n\n  useEffect(() => {\n    fetch('https://api.ipify.org?format=json').then(response => {\n      return response.json();\n    }).then((res) => {\n      console.log (`useEffect Get IP`)\n      setTabValues(currentTabValues => { return { \n          ...currentTabValues, \n          deploy: { \n            ...currentTabValues.deploy, \n            apiips: `${res.ip}/32` \n          } \n        } \n      })\n\n    }).catch((err) => console.error('Problem fetching my IP', err))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n\n  function _handleLinkClick(item) {\n    setPivotkey(item.props.itemKey)\n  }\n\n  function mergeState(tab, field, value) {\n    urlParams.set(`${tab}.${field}`, value)\n    //window.history.replaceState(null, null, \"?\"+urlParams.toString())\n    setTabValues((p) => {\n      return {\n        ...p, [tab]: {\n          ...p[tab],\n          [field]: value\n        }\n      }\n    })\n  }\n\n  function getError(page, field) {\n    return invalidArray[page].find(e => e.field === field)\n  }\n\n\n  function invalidFn(page, field, invalid, message) {\n    const e = getError(page, field)\n    if (!invalid && e) {\n      setInvalidArray((prev) => { return { ...prev, [page]: prev[page].filter((e) => e.field !== field) } })\n    } else if (invalid && !e) {\n      setInvalidArray((prev) => { return { ...prev, [page]: prev[page].concat({ field, message }) } })\n    }\n  }\n\n  const { deploy, cluster, net, addons } = tabValues\n\n  console.log (`PortalNav: Evaluating configruation warnings...`)\n  invalidFn('cluster', 'osDiskType', cluster.osDiskType === 'Ephemeral' && !VMs.find(i => i.key === cluster.vmSize).eph,\n    <Text><b>ERROR</b>: The selected VM cache is not large enough to support Ephemeral. Select 'Managed' or a VM with a larger cache</Text>)\n  invalidFn('cluster', 'aad_tenant_id', cluster.enable_aad && cluster.use_alt_aad && cluster.aad_tenant_id.length !== 36,\n    <Text>Enter Valid Directory ID</Text>)\n\n  invalidFn('addons', 'registry', net.vnetprivateend && (addons.registry !== 'Premium' && addons.registry !== 'none'),\n    <Text><b>ERROR</b>: Premium tier is required for Private Link, either select Premium, or disable Private Link</Text>)\n  invalidFn('addons', 'dnsZoneId', addons.dns && !addons.dnsZoneId.match('^/subscriptions/[^/ ]+/resourceGroups/[^/ ]+/providers/Microsoft.Network/(dnszones|privateDnsZones)/[^/ ]+$'),\n    <Text>Enter valid Azure Public or Private DNS Zone resourceId</Text>)\n  invalidFn('addons', 'certEmail', addons.certMan && !addons.certEmail.match('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\\\.[a-zA-Z0-9-.]+$'),\n    <Text>Enter valid email for certificate generation</Text>)\n  invalidFn('addons', 'kvId', addons.csisecret === \"akvExist\" && !addons.kvId.match('^/subscriptions/[^/ ]+/resourceGroups/[^/ ]+/providers/Microsoft.KeyVault/vaults/[^/ ]+$'),\n    <Text>Enter valid Azure KeyVault resourceId</Text>)\n  invalidFn('addons', 'appgw_privateIpAddress', addons.ingress === \"appgw\" && addons.appgw_privateIp && !addons.appgw_privateIpAddress.match('^(?:[0-9]{1,3}.){3}[0-9]{1,3}$'),\n    <Text>Enter valid IP address</Text>)\n  invalidFn('addons', 'appgwKVIntegration', addons.ingress === \"appgw\" && addons.appgwKVIntegration && addons.csisecret !== 'akvNew',\n    <Text><b>ERROR</b>: KeyVault integration requires the 'CSI Secrets' 'Yes, Provision a new KeyVault' option to be selected</Text>)\n  invalidFn('addons', 'ingress', net.afw && (addons.ingress !== \"none\" && addons.ingress !== \"appgw\"),\n    <Text><b>WARNING</b>: Using a in-cluster ingress option with Azure Firewall will require additional asymmetric routing configuration post-deployment, please see <Link target=\"_target\" href=\"https://docs.microsoft.com/en-us/azure/aks/limit-egress-traffic#add-a-dnat-rule-to-azure-firewall\">Add a DNAT rule to Azure Firewall</Link></Text>)\n  invalidFn('net', 'byoAKSSubnetId', net.vnet_opt === 'byo' && !net.byoAKSSubnetId.match('^/subscriptions/[^/ ]+/resourceGroups/[^/ ]+/providers/Microsoft.Network/virtualNetworks/[^/ ]+/subnets/[^/ ]+$'),\n    <Text>Enter a valid Subnet Id where AKS nodes will be installed</Text>)\n  invalidFn('net', 'byoAGWSubnetId', net.vnet_opt === 'byo' && addons.ingress === 'appgw' && !net.byoAGWSubnetId.match('^/subscriptions/[^/ ]+/resourceGroups/[^/ ]+/providers/Microsoft.Network/virtualNetworks/[^/ ]+/subnets/[^/ ]+$'),\n    <Text>Enter a valid Subnet Id where Application Gateway is installed</Text>)\n  invalidFn('net', 'vnet_opt', net.vnet_opt === \"default\" && (net.afw || net.vnetprivateend),\n    <Text>Cannot use default networking of you select Firewall or Private Link</Text>)\n  invalidFn('net', 'afw', net.afw && net.vnet_opt !== \"custom\",\n    net.vnet_opt === \"byo\" ?\n      <Text>Please de-select, when using Bring your own VNET, configure a firewall as part of your own VNET setup, (in a subnet or peered network)</Text>\n      :\n      <Text><b>WARNING</b>: This template can only deploy Azure Firewall in single VNET with Custom Networking\"</Text>\n  )\n  invalidFn('deploy', 'apiips', cluster.apisecurity === 'whitelist' && deploy.apiips.length < 7,\n    <Text>Enter an IP/CIDR, or disable API Security in 'Cluster Details' tab</Text>)\n  invalidFn('deploy', 'clusterName', !deploy.clusterName || deploy.clusterName.match(/^[a-z0-9][_\\-a-z0-9]+[a-z0-9]$/i) === null || deploy.clusterName.length>19,\n    <Text>Enter valid cluster name</Text>)\n\n\n  function _customRenderer(page, link, defaultRenderer) {\n    return (\n      <span>\n        {invalidArray[page].length > 0 &&\n          <Icon iconName=\"Warning12\" style={{ color: 'red' }} />\n        }\n        {defaultRenderer(link)}\n      </span>\n    );\n  }\n\n  return (\n    <main id=\"mainContent\" className=\"wrapper\">\n      <ThemeProvider>\n        <Header entScale={entScale} setEntScale={setEntScale} featureFlag={featureFlag} />\n\n\n        <Stack verticalFill styles={{ root: { width: '960px', margin: '0 auto', color: 'grey' } }}>\n\n          <Presents sections={sections} selectedValues={selected.values} updateSelected={updateSelected} />\n\n          <Separator styles={{ root: { marginTop: \"55px !important\", marginBottom: \"5px\" } }}><b>Deploy</b> (optionally use 'Details' tabs for additional configuration)</Separator>\n\n          <Pivot selectedKey={pivotkey} onLinkClick={_handleLinkClick} focusZoneProps={{ 'data-testid': `portalnav-Pivot`}}>\n            <PivotItem headerText={tabLabels.deploy} itemKey=\"deploy\" onRenderItemLink={(a, b) => _customRenderer('deploy', a, b)}>\n              <DeployTab defaults={defaults} tabValues={tabValues} updateFn={(field, value) => mergeState(\"deploy\", field, value)} invalidArray={invalidArray['deploy']} invalidTabs={Object.keys(invalidArray).filter(t => invalidArray[t].length > 0).map(k => `'${tabLabels[k]}'`)} urlParams={urlParams} />\n            </PivotItem>\n            <PivotItem headerText={tabLabels.cluster} itemKey=\"cluster\" onRenderItemLink={(a, b) => _customRenderer('cluster', a, b)} >\n              <ClusterTab tabValues={tabValues} updateFn={(field, value) => mergeState(\"cluster\", field, value)} invalidArray={invalidArray['cluster']} />\n            </PivotItem>\n            <PivotItem headerText={tabLabels.addons} itemKey=\"addons\" onRenderItemLink={(a, b) => _customRenderer('addons', a, b)} >\n              <AddonsTab tabValues={tabValues} updateFn={(field, value) => mergeState(\"addons\", field, value)} invalidArray={invalidArray['addons']} />\n            </PivotItem>\n            <PivotItem headerText={tabLabels.net} itemKey=\"net\" onRenderItemLink={(a, b) => _customRenderer('net', a, b)}>\n              <NetworkTab tabValues={tabValues} featureFlag={featureFlag} updateFn={(field, value) => mergeState(\"net\", field, value)} invalidArray={invalidArray['net']} />\n            </PivotItem>\n            <PivotItem headerText={tabLabels.app} itemKey=\"app\" onRenderItemLink={(a, b) => _customRenderer('app', a, b)}>\n              <AppsTab tabValues={tabValues} featureFlag={featureFlag} updateFn={(field, value) => mergeState(\"app\", field, value)} invalidArray={invalidArray['app']} />\n            </PivotItem>\n          </Pivot>\n\n        </Stack>\n      </ThemeProvider>\n    </main >\n  )\n}\n\n\n\n","import React from 'react';\nimport { ConfigContext } from './index'\nimport PortalNav from './components/portalnav'\n\nexport default function App() {\n\n  return (\n    <ConfigContext.Consumer>\n      {config => <PortalNav config={config} />}\n    </ConfigContext.Consumer>\n  )\n}\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated pre-cached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been pre-cached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// Application Insights - https://github.com/microsoft/ApplicationInsights-JS/tree/master/extensions/applicationinsights-react-js\nimport { ApplicationInsights } from '@microsoft/applicationinsights-web';\nimport configData from \"./config.json\";\n\nexport const appInsights = new ApplicationInsights({\n  config: { instrumentationKey: process.env.REACT_APP_APPINSIGHTS_KEY }\n});\nif (process.env.REACT_APP_APPINSIGHTS_KEY) {\n  appInsights.loadAppInsights();\n}\n\nexport const ConfigContext = React.createContext()\n\nReactDOM.render(\n  <ConfigContext.Provider value={configData}>\n    <App />\n  </ConfigContext.Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}